!function(){"use strict";function n(){return{restrict:"E",scope:{basePath:"=",languages:"=",translations:"=",queries:"="},replace:!0,templateUrl:"translate-editor.tpl.html",controller:"TranslateEditorController",controllerAs:"locale",bindToController:!0}}function e(){function n(){_.each(c.languages,function(n){c.bindings[n]={forms:[]},c.xmlDefinitions[n]=JSON.toXML(c.translations[n])})}function e(){_.each(c.languages,function(n){c.xmlDefinitions[n]=JSON.toXML(c.translations[n])})}function t(){_.each(c.languages,function(n){c.bindings[n].forms=[]})}function a(n,e){var t=n;return _.each(e,function(n){t=t[n]}),t}function i(n,e){if(e=e||[],n.parentNode&&(e=i(n.parentNode,e)),n.previousSibling){var t=1,a=n.previousSibling;do 1==a.nodeType&&a.nodeName==n.nodeName&&t++,a=a.previousSibling;while(a);1==t&&(t=null)}else if(n.nextSibling){var o=n.nextSibling;do o=1==o.nodeType&&o.nodeName==n.nodeName?null:o.previousSibling;while(o)}return 1==n.nodeType&&e.push(n.nodeName),e}function o(n,e,t,i){var o=a(n,e.path);o[t]=i,e.value=o,o=null}function l(n,t){var i=a(n,t.path);i[c.newKey]=t.newValue,t.value=i,i=null,_.each(_.without(c.languages,t.lang),function(n){i=a(c.translations[n],t.path),_.has(i,c.newKey)||(i[c.newKey]=t.newValue,_.map(c.bindings[n].forms,function(n){n.value=i}))}),delete c.newKey,delete t.newValue,e()}function r(n,t){_.each(c.languages,function(e){var i=a(c.translations[e],n.path);delete i[t],_.map(c.bindings[e].forms,function(n){n.value=i})}),e()}function s(n){n.element.innerHTML=n.value;var e=Defiant.node.toJSON(c.xmlDefinitions[n.lang]);angular.copy(e,c.translations[n.lang])}function u(n){if(delete c.newKey,n)try{n=angular.uppercase(n),_.each(c.languages,function(e){c.bindings[e].forms=[];var t=Defiant.node.selectNodes(c.xmlDefinitions[e],n);_.each(t,function(n,t){var a=Defiant.node.toJSON(n),o=i(n).slice(1),l={lang:e,label:o.join("."),path:o,hasInput:"object"!=typeof n,isFlat:_.all(a,function(n,e){return _.isString(n)}),value:a,element:n};l.hasInput="object"!=typeof a,c.bindings[e].forms.push(l)}),c.hasError=!1})}catch(e){c.hasError=!0,t()}else c.hasError=!1,t()}var c=this;c.languages=c.languages||[],c.translations=c.translations||{},c.queries=c.queries||[],c.bindings={},c.xmlDefinitions={},c.hasError=!1,c.updateObject=o,c.writeObjectByKey=l,c.deleteObjectByKey=r,c.updateTranslations=s,c.findByKey=u,n()}angular.module("khchan.translate-editor",["angular-translate-templates"]).directive("translateEditor",n).controller("TranslateEditorController",e),n.$inject=[],e.$inject=[]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuZ3VsYXItdHJhbnNsYXRlLWVkaXRvci5qcyJdLCJuYW1lcyI6WyJ0cmFuc2xhdGVFZGl0b3IiLCJyZXN0cmljdCIsInNjb3BlIiwiYmFzZVBhdGgiLCJsYW5ndWFnZXMiLCJ0cmFuc2xhdGlvbnMiLCJxdWVyaWVzIiwicmVwbGFjZSIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsImNvbnRyb2xsZXJBcyIsImJpbmRUb0NvbnRyb2xsZXIiLCJUcmFuc2xhdGVFZGl0b3JDb250cm9sbGVyIiwiaW5pdCIsIl8iLCJlYWNoIiwidm0iLCJsYW5nIiwiYmluZGluZ3MiLCJmb3JtcyIsInhtbERlZmluaXRpb25zIiwiSlNPTiIsInRvWE1MIiwic3luY0pzb25Ub1hNTCIsImNsZWFyQmluZGluZ3MiLCJ0cmF2ZXJzZU9iamVjdCIsIm9iamVjdCIsInBhdGgiLCJjdXJyIiwia2V5IiwiZ2V0UGF0aFRvTm9kZSIsIm5vZGUiLCJwYXJlbnROb2RlIiwicHJldmlvdXNTaWJsaW5nIiwiY291bnQiLCJzaWJsaW5nIiwibm9kZVR5cGUiLCJub2RlTmFtZSIsIm5leHRTaWJsaW5nIiwicHVzaCIsInVwZGF0ZU9iamVjdCIsImZvcm0iLCJ2YWx1ZSIsIndyaXRlT2JqZWN0QnlLZXkiLCJuZXdLZXkiLCJuZXdWYWx1ZSIsIndpdGhvdXQiLCJsYW5ndWFnZSIsImhhcyIsIm1hcCIsImRlbGV0ZU9iamVjdEJ5S2V5IiwidXBkYXRlVHJhbnNsYXRpb25zIiwiZWxlbWVudCIsImlubmVySFRNTCIsInVwZGF0ZWRKU09OIiwiRGVmaWFudCIsInRvSlNPTiIsImFuZ3VsYXIiLCJjb3B5IiwiZmluZEJ5S2V5IiwicXVlcnkiLCJ1cHBlcmNhc2UiLCJub2RlcyIsInNlbGVjdE5vZGVzIiwiaWR4Iiwibm9kZVZhbCIsInNsaWNlIiwibGFiZWwiLCJqb2luIiwiaGFzSW5wdXQiLCJpc0ZsYXQiLCJhbGwiLCJpc1N0cmluZyIsImhhc0Vycm9yIiwiZXJyIiwidGhpcyIsIm1vZHVsZSIs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QkFBbUJBLEVBQ3RCM0IsRUFBR2tDLGtCQUFvQkEsRUFDdkJsQyxFQUFHbUMsbUJBQXFCQSxFQUN4Qm5DLEVBQUcyQyxVQUFZQSxFQUVmOUMsSUE3Q0Y0QyxRQUNHbUIsT0FBTywyQkFBNEIsZ0NBQ25DQyxVQUFVLGtCQUFtQjdFLEdBQzdCUyxXQUFXLDRCQUE2QkcsR0FFM0NaLEVBQWdCOEUsV0FDaEJsRSxFQUEwQmtFIiwiZmlsZSI6ImFuZ3VsYXItdHJhbnNsYXRlLWVkaXRvci5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpIHtcblx0J3VzZSBzdHJpY3QnO1xuXHRhbmd1bGFyXG5cdCAgLm1vZHVsZSgna2hjaGFuLnRyYW5zbGF0ZS1lZGl0b3InLCBbJ2FuZ3VsYXItdHJhbnNsYXRlLXRlbXBsYXRlcyddKVxuXHQgIC5kaXJlY3RpdmUoJ3RyYW5zbGF0ZUVkaXRvcicsIHRyYW5zbGF0ZUVkaXRvcilcblx0ICAuY29udHJvbGxlcignVHJhbnNsYXRlRWRpdG9yQ29udHJvbGxlcicsIFRyYW5zbGF0ZUVkaXRvckNvbnRyb2xsZXIpO1xuXG5cdHRyYW5zbGF0ZUVkaXRvci4kaW5qZWN0ID0gW107XG5cdFRyYW5zbGF0ZUVkaXRvckNvbnRyb2xsZXIuJGluamVjdCA9IFtdO1xuXG5cdGZ1bmN0aW9uIHRyYW5zbGF0ZUVkaXRvcigpIHtcblx0ICByZXR1cm4ge1xuXHQgICAgcmVzdHJpY3Q6ICdFJyxcblx0ICAgIHNjb3BlOiB7XG5cdCAgICAgIGJhc2VQYXRoOiAnPScsICAgICAgIC8vIHhQYXRoIHF1ZXJ5IHRvIGF1dG9tYXRpY2FsbHkgcHJlcGVuZCBhcyByb290XG5cdCAgICAgIGxhbmd1YWdlczogJz0nLCAgICAgIC8vIGFycmF5IG9mIGFsbG93YWJsZSBsb2NhbGVzXG5cdCAgICAgIHRyYW5zbGF0aW9uczogJz0nLCAgIC8vIGRpY3Rpb25hcnkgb2YgbGFuZ3VhZ2UtdHJhbnNsYXRpb25zXG5cdCAgICAgIHF1ZXJpZXM6ICc9JyAgICAgICAgIC8vIHByZWRlZmluZWQgcXVlcmllcyB0byBidWlsZCBidXR0b25zIG9uXG5cdCAgICB9LFxuXHQgICAgcmVwbGFjZTogdHJ1ZSxcblx0ICAgIHRlbXBsYXRlVXJsOiAndHJhbnNsYXRlLWVkaXRvci50cGwuaHRtbCcsXG5cdCAgICBjb250cm9sbGVyOiAnVHJhbnNsYXRlRWRpdG9yQ29udHJvbGxlcicsXG5cdCAgICBjb250cm9sbGVyQXM6ICdsb2NhbGUnLFxuXHQgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHQgIH07XG5cdH1cblxuXHRmdW5jdGlvbiBUcmFuc2xhdGVFZGl0b3JDb250cm9sbGVyKCkge1xuXHQgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAvLyBmcm9tIGRpcmVjdGl2ZVxuXHQgIHZtLmxhbmd1YWdlcyA9IHZtLmxhbmd1YWdlcyB8fCBbXTtcblx0ICB2bS50cmFuc2xhdGlvbnMgPSB2bS50cmFuc2xhdGlvbnMgfHwge307XG5cdCAgdm0ucXVlcmllcyA9IHZtLnF1ZXJpZXMgfHwgW107XG5cblx0ICAvLyBiaW5kYWJsZSB2YXJpYWJsZXNcblx0ICB2bS5iaW5kaW5ncyA9IHt9OyAgICAgICAgLy8gc3RvcmVzIHJlc3VsdHMgb2YgeFBhdGggcXVlcnlcblx0ICB2bS54bWxEZWZpbml0aW9ucyA9IHt9OyAgLy8geG1sIGVxdWl2YWxlbnRzIG9mIHRyYW5zbGF0aW9uIGpzb25zXG5cdCAgdm0uaGFzRXJyb3IgPSBmYWxzZTsgICAgIC8vIGJvb2xlYW4gZGV0ZXJtaW5pbmcgd2hldGhlciB0aGVyZSB3YXMgYSBxdWVyeSBlcnJvclxuXG5cdCAgLy8gYmluZGFibGUgbWV0aG9kc1xuXHQgIHZtLnVwZGF0ZU9iamVjdCA9IHVwZGF0ZU9iamVjdDtcblx0ICB2bS53cml0ZU9iamVjdEJ5S2V5ID0gd3JpdGVPYmplY3RCeUtleTtcblx0ICB2bS5kZWxldGVPYmplY3RCeUtleSA9IGRlbGV0ZU9iamVjdEJ5S2V5O1xuXHQgIHZtLnVwZGF0ZVRyYW5zbGF0aW9ucyA9IHVwZGF0ZVRyYW5zbGF0aW9ucztcblx0ICB2bS5maW5kQnlLZXkgPSBmaW5kQnlLZXk7XG5cblx0ICBpbml0KCk7XG5cblx0ICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cblx0ICAvKipcblx0ICAgKiBQcml2YXRlIE1ldGhvZHNcblx0ICAgKi9cblxuXHQgIGZ1bmN0aW9uIGluaXQoKSB7XG5cdCAgICBfLmVhY2godm0ubGFuZ3VhZ2VzLCBmdW5jdGlvbiAobGFuZykge1xuXHQgICAgICB2bS5iaW5kaW5nc1tsYW5nXSA9IHtcblx0ICAgICAgICBmb3JtczogW11cblx0ICAgICAgfTtcblx0ICAgICAgdm0ueG1sRGVmaW5pdGlvbnNbbGFuZ10gPSBKU09OLnRvWE1MKHZtLnRyYW5zbGF0aW9uc1tsYW5nXSk7XG5cdCAgICB9KTtcblx0ICB9XG5cblx0ICBmdW5jdGlvbiBzeW5jSnNvblRvWE1MKCkge1xuXHQgICAgXy5lYWNoKHZtLmxhbmd1YWdlcywgZnVuY3Rpb24gKGxhbmcpIHtcblx0ICAgICAgdm0ueG1sRGVmaW5pdGlvbnNbbGFuZ10gPSBKU09OLnRvWE1MKHZtLnRyYW5zbGF0aW9uc1tsYW5nXSk7XG5cdCAgICB9KTtcblx0ICB9XG5cblx0ICBmdW5jdGlvbiBjbGVhckJpbmRpbmdzKCkge1xuXHQgICAgXy5lYWNoKHZtLmxhbmd1YWdlcywgZnVuY3Rpb24gKGxhbmcpIHtcblx0ICAgICAgdm0uYmluZGluZ3NbbGFuZ10uZm9ybXMgPSBbXTtcblx0ICAgIH0pO1xuXHQgIH1cblxuXHQgIGZ1bmN0aW9uIHRyYXZlcnNlT2JqZWN0KG9iamVjdCwgcGF0aCkge1xuXHQgICAgdmFyIGN1cnIgPSBvYmplY3Q7XG5cdCAgICBfLmVhY2gocGF0aCwgZnVuY3Rpb24gKGtleSkge1xuXHQgICAgICBjdXJyID0gY3VycltrZXldO1xuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gY3Vycjtcblx0ICB9XG5cblx0ICBmdW5jdGlvbiBnZXRQYXRoVG9Ob2RlKG5vZGUsIHBhdGgpIHtcblx0ICAgIHBhdGggPSBwYXRoIHx8IFtdO1xuXHQgICAgaWYgKG5vZGUucGFyZW50Tm9kZSkge1xuXHQgICAgICBwYXRoID0gZ2V0UGF0aFRvTm9kZShub2RlLnBhcmVudE5vZGUsIHBhdGgpO1xuXHQgICAgfVxuXG5cdCAgICBpZiAobm9kZS5wcmV2aW91c1NpYmxpbmcpIHtcblx0ICAgICAgdmFyIGNvdW50ID0gMTtcblx0ICAgICAgdmFyIHNpYmxpbmcgPSBub2RlLnByZXZpb3VzU2libGluZztcblx0ICAgICAgZG8ge1xuXHQgICAgICAgIGlmIChzaWJsaW5nLm5vZGVUeXBlID09IDEgJiYgc2libGluZy5ub2RlTmFtZSA9PSBub2RlLm5vZGVOYW1lKSB7IGNvdW50Kys7IH1cblx0ICAgICAgICBzaWJsaW5nID0gc2libGluZy5wcmV2aW91c1NpYmxpbmc7XG5cdCAgICAgIH0gd2hpbGUoc2libGluZyk7XG5cdCAgICAgIGlmIChjb3VudCA9PSAxKSB7IGNvdW50ID0gbnVsbDsgfVxuXHQgICAgfSBlbHNlIGlmKG5vZGUubmV4dFNpYmxpbmcpIHtcblx0ICAgICAgdmFyIG5leHRTaWJsaW5nID0gbm9kZS5uZXh0U2libGluZztcblx0ICAgICAgZG8ge1xuXHQgICAgICAgIGlmIChuZXh0U2libGluZy5ub2RlVHlwZSA9PSAxICYmIG5leHRTaWJsaW5nLm5vZGVOYW1lID09IG5vZGUubm9kZU5hbWUpIHtcblx0ICAgICAgICAgIG5leHRTaWJsaW5nID0gbnVsbDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgbmV4dFNpYmxpbmcgPSBuZXh0U2libGluZy5wcmV2aW91c1NpYmxpbmc7XG5cdCAgICAgICAgfVxuXHQgICAgICB9IHdoaWxlKG5leHRTaWJsaW5nKTtcblx0ICAgIH1cblxuXHQgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSkge1xuXHQgICAgICBwYXRoLnB1c2gobm9kZS5ub2RlTmFtZSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcGF0aDtcblx0ICB9XG5cblx0ICAvKipcblx0ICAgKiBQdWJsaWMgTWV0aG9kc1xuXHQgICAqL1xuXG5cdCAgLyoqXG5cdCAgICogdXBkYXRlT2JqZWN0XG5cdCAgICogQGRlc2NyaXB0aW9uIEdpdmVuIGEgZmxhdCBqc29uIG9iamVjdCwgdXBkYXRlcyBhbmQgc3luY3MgYSBwYXJ0aWN1bGFyIGtleS92YWx1ZSBwYWlyXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gdXBkYXRlT2JqZWN0KG9iamVjdCwgZm9ybSwga2V5LCB2YWx1ZSkge1xuXHQgICAgdmFyIGN1cnIgPSB0cmF2ZXJzZU9iamVjdChvYmplY3QsIGZvcm0ucGF0aCk7XG5cdCAgICBjdXJyW2tleV0gPSB2YWx1ZTtcblx0ICAgIGZvcm0udmFsdWUgPSBjdXJyO1xuXHQgICAgY3VyciA9IG51bGw7XG5cdCAgfVxuXG5cdCAgLyoqXG5cdCAgICogd3JpdGVPYmplY3RCeUtleVxuXHQgICAqIEBkZXNjcmlwdGlvbiBXcml0ZXMgYSBuZXcgdmFsdWUgdG8gYW4gb2JqZWN0IGJ5IHRyYXZlcnNpbmcgZG93biB0aHJvdWdoIGEgcGF0aFxuXHQgICAqICAgICAgICAgICAgICB0aGVuIHdyaXRlcyBhIHZhbHVlIGdpdmVuIGEga2V5XG5cdCAgICovXG5cdCAgZnVuY3Rpb24gd3JpdGVPYmplY3RCeUtleShvYmplY3QsIGZvcm0pIHtcblx0ICAgIC8vIHVwZGF0ZSBmb3IgZm9ybSBpbiBjdXJyZW50IGxhbmd1YWdlXG5cdCAgICB2YXIgY3VyciA9IHRyYXZlcnNlT2JqZWN0KG9iamVjdCwgZm9ybS5wYXRoKTtcblx0ICAgIC8vIHNldCBuZXcga2V5IHZhbHVlXG5cdCAgICBjdXJyW3ZtLm5ld0tleV0gPSBmb3JtLm5ld1ZhbHVlO1xuXHQgICAgLy8gdXBkYXRlIGpzb24gaW4gcHJldmlld1xuXHQgICAgZm9ybS52YWx1ZSA9IGN1cnI7XG5cdCAgICBjdXJyID0gbnVsbDtcblxuXHQgICAgLy8gY2hlY2sgb3RoZXIgbGFuZ3VhZ2VzIGZvciBrZXkgYW5kIGZpbGwgd2l0aCB2YWx1ZSBpZiBub3QgZXhpc3RzXG5cdCAgICBfLmVhY2goXy53aXRob3V0KHZtLmxhbmd1YWdlcywgZm9ybS5sYW5nKSwgZnVuY3Rpb24gKGxhbmd1YWdlKSB7XG5cdCAgICAgIGN1cnIgPSB0cmF2ZXJzZU9iamVjdCh2bS50cmFuc2xhdGlvbnNbbGFuZ3VhZ2VdLCBmb3JtLnBhdGgpO1xuXHQgICAgICBpZiAoIV8uaGFzKGN1cnIsIHZtLm5ld0tleSkpIHtcblx0ICAgICAgICBjdXJyW3ZtLm5ld0tleV0gPSBmb3JtLm5ld1ZhbHVlO1xuXHQgICAgICAgIF8ubWFwKHZtLmJpbmRpbmdzW2xhbmd1YWdlXS5mb3JtcywgZnVuY3Rpb24gKGZvcm0pIHtcblx0ICAgICAgICAgIC8vIHVwZGF0ZSBqc29uIGluIHByZXZpZXdcblx0ICAgICAgICAgIGZvcm0udmFsdWUgPSBjdXJyO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblxuXHQgICAgLy8gY2xlYXIgaW5wdXRzXG5cdCAgICBkZWxldGUgdm0ubmV3S2V5O1xuXHQgICAgZGVsZXRlIGZvcm0ubmV3VmFsdWU7XG5cblx0ICAgIC8vIHN5bmMgY2hhbmdlZCBqc29uIGJhY2sgdG8geG1sIG1vZGVsXG5cdCAgICBzeW5jSnNvblRvWE1MKCk7XG5cdCAgfVxuXG5cdCAgLyoqXG5cdCAgICogZGVsZXRlT2JqZWN0QnlLZXlcblx0ICAgKiBAZGVzY3JpcHRpb24gRGVsZXRlcyBhIHZhbHVlIGdpdmVuIGEga2V5IGluIGEgZmxhdCBqc29uIG9iamVjdFxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIGRlbGV0ZU9iamVjdEJ5S2V5KGZvcm0sIGtleSkge1xuXHQgICAgXy5lYWNoKHZtLmxhbmd1YWdlcywgZnVuY3Rpb24gKGxhbmd1YWdlKSB7XG5cdCAgICAgIHZhciBjdXJyID0gdHJhdmVyc2VPYmplY3Qodm0udHJhbnNsYXRpb25zW2xhbmd1YWdlXSwgZm9ybS5wYXRoKTtcblx0ICAgICAgLy8gc2V0IG5ldyBrZXkgdmFsdWVcblx0ICAgICAgZGVsZXRlIGN1cnJba2V5XTtcblx0ICAgICAgXy5tYXAodm0uYmluZGluZ3NbbGFuZ3VhZ2VdLmZvcm1zLCBmdW5jdGlvbiAoZm9ybSkge1xuXHQgICAgICAgIC8vIHVwZGF0ZSBqc29uIGluIHByZXZpZXdcblx0ICAgICAgICBmb3JtLnZhbHVlID0gY3Vycjtcblx0ICAgICAgfSk7XG5cdCAgICB9KTtcblx0ICAgIC8vIHN5bmMgY2hhbmdlZCBqc29uIGJhY2sgdG8geG1sIG1vZGVsXG5cdCAgICBzeW5jSnNvblRvWE1MKCk7XG5cdCAgfVxuXG5cdCAgZnVuY3Rpb24gdXBkYXRlVHJhbnNsYXRpb25zKGZvcm0pIHtcblx0ICAgIGZvcm0uZWxlbWVudC5pbm5lckhUTUwgPSBmb3JtLnZhbHVlO1xuXHQgICAgdmFyIHVwZGF0ZWRKU09OID0gRGVmaWFudC5ub2RlLnRvSlNPTih2bS54bWxEZWZpbml0aW9uc1tmb3JtLmxhbmddKTtcblx0ICAgIGFuZ3VsYXIuY29weSh1cGRhdGVkSlNPTiwgdm0udHJhbnNsYXRpb25zW2Zvcm0ubGFuZ10pO1xuXHQgIH1cblxuXHQgIC8qKlxuXHQgICAqIGZpbmRCeUtleVxuXHQgICAqIEBkZXNjcmlwdGlvbiBNYWluIHF1ZXJ5IGZ1bmN0aW9uIGZvciBldmFsdWF0aW5nIHhQYXRoIHF1ZXJpZXMgYWdhaW5zdFxuXHQgICAqICAgICAgICAgICAgICBKU09OIHRyYW5zbGF0aW9uIG9iamVjdHMuXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gZmluZEJ5S2V5KHF1ZXJ5KSB7XG5cdCAgICBkZWxldGUgdm0ubmV3S2V5O1xuXHQgICAgaWYgKCFxdWVyeSkge1xuXHQgICAgICB2bS5oYXNFcnJvciA9IGZhbHNlO1xuXHQgICAgICBjbGVhckJpbmRpbmdzKCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIHF1ZXJ5ID0gYW5ndWxhci51cHBlcmNhc2UocXVlcnkpO1xuXHQgICAgICAgIF8uZWFjaCh2bS5sYW5ndWFnZXMsIGZ1bmN0aW9uIChsYW5nKSB7XG5cdCAgICAgICAgICB2bS5iaW5kaW5nc1tsYW5nXS5mb3JtcyA9IFtdO1xuXHQgICAgICAgICAgdmFyIG5vZGVzID0gRGVmaWFudC5ub2RlLnNlbGVjdE5vZGVzKHZtLnhtbERlZmluaXRpb25zW2xhbmddLCBxdWVyeSk7XG5cdCAgICAgICAgICBfLmVhY2gobm9kZXMsIGZ1bmN0aW9uIChub2RlLCBpZHgpIHtcblx0ICAgICAgICAgICAgdmFyIG5vZGVWYWwgPSBEZWZpYW50Lm5vZGUudG9KU09OKG5vZGUpO1xuXHQgICAgICAgICAgICB2YXIgcGF0aCA9IGdldFBhdGhUb05vZGUobm9kZSkuc2xpY2UoMSk7XG5cdCAgICAgICAgICAgIHZhciBmb3JtID0ge1xuXHQgICAgICAgICAgICAgIGxhbmc6IGxhbmcsXG5cdCAgICAgICAgICAgICAgbGFiZWw6IHBhdGguam9pbihcIi5cIiksXG5cdCAgICAgICAgICAgICAgcGF0aDogcGF0aCxcblx0ICAgICAgICAgICAgICBoYXNJbnB1dDogKHR5cGVvZiBub2RlICE9PSAnb2JqZWN0JyksXG5cdCAgICAgICAgICAgICAgaXNGbGF0OiBfLmFsbChub2RlVmFsLCBmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIF8uaXNTdHJpbmcodmFsdWUpO1xuXHQgICAgICAgICAgICAgIH0pLFxuXHQgICAgICAgICAgICAgIHZhbHVlOiBub2RlVmFsLFxuXHQgICAgICAgICAgICAgIGVsZW1lbnQ6IG5vZGVcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgLy8gb25seSBhbGxvdyBub24gYXJyYXkvb2JqZWN0cyB0byBiZSBlZGl0YWJsZVxuXHQgICAgICAgICAgICBmb3JtLmhhc0lucHV0ID0gKHR5cGVvZiBub2RlVmFsICE9ICdvYmplY3QnKTtcblx0ICAgICAgICAgICAgdm0uYmluZGluZ3NbbGFuZ10uZm9ybXMucHVzaChmb3JtKTtcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgdm0uaGFzRXJyb3IgPSBmYWxzZTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfSBjYXRjaChlcnIpIHsgLy8gcXVlcnkgaW52YWxpZCwgc28gY2xlYXIgYmluZGluZ3Ncblx0ICAgICAgICB2bS5oYXNFcnJvciA9IHRydWU7XG5cdCAgICAgICAgY2xlYXJCaW5kaW5ncygpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHR9XG59KSgpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

angular.module("angular-translate-templates", []).run(["$templateCache", function($templateCache) {$templateCache.put("translate-editor.tpl.html","<div><div class=\"form-group\" ng-class=\"{ \'has-error\': locale.hasError }\"><input type=\"text\" class=\"form-control\" ng-model=\"locale.search\" ng-change=\"locale.findByKey(locale.search)\" ng-model-options=\"{ debounce: 500 }\" placeholder=\"Enter xPath Query Here\"> <small ng-if=\"locale.hasError\" class=\"pull-right text-danger\">Invalid Query!</small></div><button class=\"btn btn-default btn-sm\" ng-repeat=\"query in locale.queries track by $index\" ng-click=\"locale.findByKey(query.search); locale.search = query.search;\">{{query.label}}</button><div ng-if=\"!locale.hasError && locale.search\" ng-repeat=\"language in locale.languages track by $index\"><br><div class=\"panel panel-default\"><div class=\"panel-heading\"><h3 class=\"panel-title\"><strong>{{language | uppercase}}</strong></h3></div><div class=\"panel-body\"><div class=\"form-group\" ng-repeat=\"form in locale.bindings[language].forms track by $index\"><div ng-if=\"form.hasInput\"><label>{{form.label}}:</label><input type=\"text\" class=\"form-control input-sm\" ng-model=\"form.value\" ng-change=\"locale.updateTranslations(form)\" ng-model-options=\"{ debounce: 500 }\"></div><div ng-if=\"!form.hasInput\"><div class=\"panel panel-default\"><div class=\"panel-heading\"><ng-form class=\"form-inline\"><div class=\"form-group\"><label>{{form.label}}.</label><input type=\"text\" class=\"form-control input-sm\" ng-model=\"locale.newKey\" placeholder=\"TRANSLATION_KEY\"></div><div class=\"form-group\"><label>&nbsp; Value</label><div class=\"input-group\"><input type=\"text\" class=\"form-control input-sm\" ng-model=\"form.newValue\" placeholder=\"Translated Value\"> <span class=\"input-group-btn\"><button type=\"submit\" class=\"btn btn-primary btn-sm\" ng-disabled=\"!form.newValue || !locale.newKey\" ng-click=\"locale.writeObjectByKey(locale.translations[language], form)\">Add</button></span></div></div></ng-form></div><div class=\"panel-body\"><div ng-if=\"form.isFlat\"><div class=\"form-group\" ng-repeat=\"(key, value) in form.value track by $index\"><label>{{form.label}}.{{key}}</label><div class=\"input-group\"><input type=\"text\" class=\"form-control input-sm\" ng-model=\"value\" ng-change=\"locale.updateObject(locale.translations[language], form, key, value)\" ng-model-options=\"{ debounce: 500 }\"> <span class=\"input-group-btn\"><button type=\"button\" tabindex=\"-1\" class=\"btn btn-warning btn-sm\" ng-click=\"locale.deleteObjectByKey(form, key)\">Remove</button></span></div></div></div><pre ng-if=\"!form.isFlat\">{{form.value | json}}</pre></div></div></div></div></div></div></div></div>");}]);