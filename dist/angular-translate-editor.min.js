!function(){"use strict";function n(){return{restrict:"E",scope:{basePath:"=",languages:"=",translations:"=",queries:"="},replace:!0,templateUrl:"translate-editor.tpl.html",controller:"TranslateEditorController",controllerAs:"locale",bindToController:!0}}function e(n){function e(){_.each(f.languages,function(n){f.bindings[n]={forms:[]},f.xmlDefinitions[n]=JSON.toXML(f.translations[n])})}function t(){_.each(f.languages,function(n){f.xmlDefinitions[n]=JSON.toXML(f.translations[n])})}function a(){_.each(f.languages,function(n){f.bindings[n].forms=[]})}function i(n,e){var t=n;return _.each(e,function(n){t=t[n]}),t}function o(n,e){if(e=e||[],n.parentNode&&(e=o(n.parentNode,e)),n.previousSibling){var t=1,a=n.previousSibling;do 1==a.nodeType&&a.nodeName==n.nodeName&&t++,a=a.previousSibling;while(a);1==t&&(t=null)}else if(n.nextSibling){var i=n.nextSibling;do i=1==i.nodeType&&i.nodeName==n.nodeName?null:i.previousSibling;while(i)}return 1==n.nodeType&&e.push(n.nodeName),e}function l(n,e,t,a){var o=i(n,e.path);o[t]=a,e.value=o,o=null}function r(n,e){var a=i(n,e.path);a[f.newKey]=e.newValue,e.value=a,a=null,_.each(_.without(f.languages,e.lang),function(n){a=i(f.translations[n],e.path),_.has(a,f.newKey)||(a[f.newKey]=e.newValue,_.map(f.bindings[n].forms,function(n){n.value=a}))}),delete f.newKey,delete e.newValue,t()}function s(n,e){_.each(f.languages,function(t){var a=i(f.translations[t],n.path);delete a[e],_.map(f.bindings[t].forms,function(n){n.value=a})}),t()}function u(n){n.element.innerHTML=n.value;var e=Defiant.node.toJSON(f.xmlDefinitions[n.lang]);angular.copy(e,f.translations[n.lang])}function c(n){if(delete f.newKey,n)try{n=angular.uppercase(n),_.each(f.languages,function(e){f.bindings[e].forms=[];var t=Defiant.node.selectNodes(f.xmlDefinitions[e],n);_.each(t,function(n,t){var a=Defiant.node.toJSON(n),i=o(n).slice(1),l={lang:e,label:i.join("."),path:i,hasInput:"object"!=typeof n,isFlat:_.all(a,function(n,e){return _.isString(n)}),value:a,element:n};l.hasInput="object"!=typeof a,f.bindings[e].forms.push(l)}),f.hasError=!1})}catch(e){f.hasError=!0,a()}else f.hasError=!1,a()}var f=this;f.languages=f.languages||[],f.translations=f.translations||{},f.queries=f.queries||[],f.bindings={},f.xmlDefinitions={},f.hasError=!1,f.updateObject=l,f.writeObjectByKey=r,f.deleteObjectByKey=s,f.updateTranslations=u,f.findByKey=c,e(),n.$watch(function(){return f.languages},function(n,t){n!=t&&e()},!0)}angular.module("khchan.translate-editor",["ui.bootstrap","angular-translate-templates"]).directive("translateEditor",n).controller("TranslateEditorController",e),n.$inject=[],e.$inject=["$scope"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuZ3VsYXItdHJhbnNsYXRlLWVkaXRvci5qcyJdLCJuYW1lcyI6WyJ0cmFuc2xhdGVFZGl0b3IiLCJyZXN0cmljdCIsInNjb3BlIiwiYmFzZVBhdGgiLCJsYW5ndWFnZXMiLCJ0cmFuc2xhdGlvbnMiLCJxdWVyaWVzIiwicmVwbGFjZSIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsImNvbnRyb2xsZXJBcyIsImJpbmRUb0NvbnRyb2xsZXIiLCJUcmFuc2xhdGVFZGl0b3JDb250cm9sbGVyIiwiJHNjb3BlIiwiaW5pdCIsIl8iLCJlYWNoIiwidm0iLCJsYW5nIiwiYmluZGluZ3MiLCJmb3JtcyIsInhtbERlZmluaXRpb25zIiwiSlNPTiIsInRvWE1MIiwic3luY0pzb25Ub1hNTCIsImNsZWFyQmluZGluZ3MiLCJ0cmF2ZXJzZU9iamVjdCIsIm9iamVjdCIsInBhdGgiLCJjdXJyIiwia2V5IiwiZ2V0UGF0aFRvTm9kZSIsIm5vZGUiLCJwYXJlbnROb2RlIiwicHJldmlvdXNTaWJsaW5nIiwiY291bnQiLCJzaWJsaW5nIiwibm9kZVR5cGUiLCJub2RlTmFtZSIsIm5leHRTaWJsaW5nIiwicHVzaCIsInVwZGF0ZU9iamVjdCIsImZvcm0iLCJ2YWx1ZSIsIndyaXRlT2JqZWN0QnlLZXkiLCJuZXdLZXkiLCJuZXdWYWx1ZSIsIndpdGhvdXQiLCJsYW5ndWFnZSIsImhhcyIsIm1hcCIsImRlbGV0ZU9iamVjdEJ5S2V5IiwidXBkYXRlVHJhbnNsYXRpb25zIiwiZWxlbWVudCIsImlubmVySFRNTCIsInVwZGF0ZWRKU09OIiwiRGVmaWFudCIsInRvSlNPTiIsImFuZ3VsYXIiLCJjb3B5IiwiZmluZEJ5S2V5IiwicXVlcnkiLCJ1cHBlcmNhc2UiLCJub2RlcyIsInNlbGVjdE5vZGVzIiwiaWR4Iiwibm9kZVZhbCIsInNsaWNlIiwibGFiZWwiLCJqb2luIiwiaGFzSW5wdXQiLCJpc0ZsYXQiLCJhbGwiLCJpc1N0cmluZyIsImhhc0Vycm9yIiwiZXJyIiwidGhpcyIsIiR3YXRjaCIsIm9yaWciLCJtb2R1bGUiLCJkaXJlY3RpdmUiLCIkaW5qZWN0Il0sIm1hcHBpbmdzIjoiQ0FBQSxXQUNDLFlBU0EsU0FBU0EsS0FDUCxPQUNFQyxTQUFVLElBQ1ZDLE9BQ0VDLFNBQVUsSUFDVkMsVUFBVyxJQUNYQyxhQUFjLElBQ2RDLFFBQVMsS0FFWEMsU0FBUyxFQUNUQyxZQUFhLDRCQUNiQyxXQUFZLDRCQUNaQyxhQUFjLFNBQ2RDLGtCQUFrQixHQUl0QixRQUFTQyxHQUEwQkMsR0E0QmpDLFFBQVNDLEtBQ1BDLEVBQUVDLEtBQUtDLEVBQUdiLFVBQVcsU0FBVWMsR0FDN0JELEVBQUdFLFNBQVNELElBQ1ZFLFVBRUZILEVBQUdJLGVBQWVILEdBQVFJLEtBQUtDLE1BQU1OLEVBQUdaLGFBQWFhLE1BSXpELFFBQVNNLEtBQ1BULEVBQUVDLEtBQUtDLEVBQUdiLFVBQVcsU0FBVWMsR0FDN0JELEVBQUdJLGVBQWVILEdBQVFJLEtBQUtDLE1BQU1OLEVBQUdaLGFBQWFhLE1BSXpELFFBQVNPLEtBQ1BWLEVBQUVDLEtBQUtDLEVBQUdiLFVBQVcsU0FBVWMsR0FDN0JELEVBQUdFLFNBQVNELEdBQU1FLFdBSXRCLFFBQVNNLEdBQWVDLEVBQVFDLEdBQzlCLEdBQUlDLEdBQU9GLENBSVgsT0FIQVosR0FBRUMsS0FBS1ksRUFBTSxTQUFVRSxHQUNyQkQsRUFBT0EsRUFBS0MsS0FFUEQsRUFHVCxRQUFTRSxHQUFjQyxFQUFNSixHQU0zQixHQUxBQSxFQUFPQSxNQUNISSxFQUFLQyxhQUNQTCxFQUFPRyxFQUFjQyxFQUFLQyxXQUFZTCxJQUdwQ0ksRUFBS0UsZ0JBQWlCLENBQ3hCLEdBQUlDLEdBQVEsRUFDUkMsRUFBVUosRUFBS0UsZUFDbkIsR0FDMEIsSUFBcEJFLEVBQVFDLFVBQWlCRCxFQUFRRSxVQUFZTixFQUFLTSxVQUFZSCxJQUNsRUMsRUFBVUEsRUFBUUYsc0JBQ1pFLEVBQ0ssSUFBVEQsSUFBY0EsRUFBUSxVQUNyQixJQUFHSCxFQUFLTyxZQUFhLENBQzFCLEdBQUlBLEdBQWNQLEVBQUtPLFdBQ3ZCLEdBRUlBLEdBRDBCLEdBQXhCQSxFQUFZRixVQUFpQkUsRUFBWUQsVUFBWU4sRUFBS00sU0FDOUMsS0FFQUMsRUFBWUwsc0JBRXRCSyxHQU1WLE1BSHFCLElBQWpCUCxFQUFLSyxVQUNQVCxFQUFLWSxLQUFLUixFQUFLTSxVQUVWVixFQW1CVCxRQUFTYSxHQUFhZCxFQUFRZSxFQUFNWixFQUFLYSxHQUN2QyxHQUFJZCxHQUFPSCxFQUFlQyxFQUFRZSxFQUFLZCxLQUN2Q0MsR0FBS0MsR0FBT2EsRUFDWkQsRUFBS0MsTUFBUWQsRUFDYkEsRUFBTyxLQVFULFFBQVNlLEdBQWlCakIsRUFBUWUsR0FFaEMsR0FBSWIsR0FBT0gsRUFBZUMsRUFBUWUsRUFBS2QsS0FFdkNDLEdBQUtaLEVBQUc0QixRQUFVSCxFQUFLSSxTQUV2QkosRUFBS0MsTUFBUWQsRUFDYkEsRUFBTyxLQUdQZCxFQUFFQyxLQUFLRCxFQUFFZ0MsUUFBUTlCLEVBQUdiLFVBQVdzQyxFQUFLeEIsTUFBTyxTQUFVOEIsR0FDbkRuQixFQUFPSCxFQUFlVCxFQUFHWixhQUFhMkMsR0FBV04sRUFBS2QsTUFDakRiLEVBQUVrQyxJQUFJcEIsRUFBTVosRUFBRzRCLFVBQ2xCaEIsRUFBS1osRUFBRzRCLFFBQVVILEVBQUtJLFNBQ3ZCL0IsRUFBRW1DLElBQUlqQyxFQUFHRSxTQUFTNkIsR0FBVTVCLE1BQU8sU0FBVXNCLEdBRTNDQSxFQUFLQyxNQUFRZCxhQU1aWixHQUFHNEIsYUFDSEgsR0FBS0ksU0FHWnRCLElBT0YsUUFBUzJCLEdBQWtCVCxFQUFNWixHQUMvQmYsRUFBRUMsS0FBS0MsRUFBR2IsVUFBVyxTQUFVNEMsR0FDN0IsR0FBSW5CLEdBQU9ILEVBQWVULEVBQUdaLGFBQWEyQyxHQUFXTixFQUFLZCxZQUVuREMsR0FBS0MsR0FDWmYsRUFBRW1DLElBQUlqQyxFQUFHRSxTQUFTNkIsR0FBVTVCLE1BQU8sU0FBVXNCLEdBRTNDQSxFQUFLQyxNQUFRZCxNQUlqQkwsSUFHRixRQUFTNEIsR0FBbUJWLEdBQzFCQSxFQUFLVyxRQUFRQyxVQUFZWixFQUFLQyxLQUM5QixJQUFJWSxHQUFjQyxRQUFReEIsS0FBS3lCLE9BQU94QyxFQUFHSSxlQUFlcUIsRUFBS3hCLE1BQzdEd0MsU0FBUUMsS0FBS0osRUFBYXRDLEVBQUdaLGFBQWFxQyxFQUFLeEIsT0FRakQsUUFBUzBDLEdBQVVDLEdBRWpCLFNBRE81QyxHQUFHNEIsT0FDTGdCLEVBSUgsSUFDRUEsRUFBUUgsUUFBUUksVUFBVUQsR0FDMUI5QyxFQUFFQyxLQUFLQyxFQUFHYixVQUFXLFNBQVVjLEdBQzdCRCxFQUFHRSxTQUFTRCxHQUFNRSxRQUNsQixJQUFJMkMsR0FBUVAsUUFBUXhCLEtBQUtnQyxZQUFZL0MsRUFBR0ksZUFBZUgsR0FBTzJDLEVBQzlEOUMsR0FBRUMsS0FBSytDLEVBQU8sU0FBVS9CLEVBQU1pQyxHQUM1QixHQUFJQyxHQUFVVixRQUFReEIsS0FBS3lCLE9BQU96QixHQUM5QkosRUFBT0csRUFBY0MsR0FBTW1DLE1BQU0sR0FDakN6QixHQUNGeEIsS0FBTUEsRUFDTmtELE1BQU94QyxFQUFLeUMsS0FBSyxLQUNqQnpDLEtBQU1BLEVBQ04wQyxTQUEyQixnQkFBVHRDLEdBQ2xCdUMsT0FBUXhELEVBQUV5RCxJQUFJTixFQUFTLFNBQVV2QixFQUFPYixHQUN0QyxNQUFPZixHQUFFMEQsU0FBUzlCLEtBRXBCQSxNQUFPdUIsRUFDUGIsUUFBU3JCLEVBR1hVLEdBQUs0QixTQUE4QixnQkFBWEosR0FDeEJqRCxFQUFHRSxTQUFTRCxHQUFNRSxNQUFNb0IsS0FBS0UsS0FFL0J6QixFQUFHeUQsVUFBVyxJQUVoQixNQUFNQyxHQUNOMUQsRUFBR3lELFVBQVcsRUFDZGpELFFBOUJGUixHQUFHeUQsVUFBVyxFQUNkakQsSUFqTEosR0FBSVIsR0FBSzJELElBR1QzRCxHQUFHYixVQUFZYSxFQUFHYixjQUNsQmEsRUFBR1osYUFBZVksRUFBR1osaUJBQ3JCWSxFQUFHWCxRQUFVVyxFQUFHWCxZQUdoQlcsRUFBR0UsWUFDSEYsRUFBR0ksa0JBQ0hKLEVBQUd5RCxVQUFXLEVBR2R6RCxFQUFHd0IsYUFBZUEsRUFDbEJ4QixFQUFHMkIsaUJBQW1CQSxFQUN0QjNCLEVBQUdrQyxrQkFBb0JBLEVBQ3ZCbEMsRUFBR21DLG1CQUFxQkEsRUFDeEJuQyxFQUFHMkMsVUFBWUEsRUFFZjlDLElBd0VBRCxFQUFPZ0UsT0FBTyxXQUNiLE1BQU81RCxHQUFHYixXQUNSLFNBQVV5QixFQUFNaUQsR0FDZGpELEdBQVFpRCxHQUNYaEUsTUFFQyxHQTNITDRDLFFBQ0dxQixPQUFPLDJCQUE0QixlQUFnQixnQ0FDbkRDLFVBQVUsa0JBQW1CaEYsR0FDN0JTLFdBQVcsNEJBQTZCRyxHQUUzQ1osRUFBZ0JpRixXQUNoQnJFLEVBQTBCcUUsU0FBVyIsImZpbGUiOiJhbmd1bGFyLXRyYW5zbGF0ZS1lZGl0b3IuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7XG5cdCd1c2Ugc3RyaWN0Jztcblx0YW5ndWxhclxuXHQgIC5tb2R1bGUoJ2toY2hhbi50cmFuc2xhdGUtZWRpdG9yJywgWyd1aS5ib290c3RyYXAnLCAnYW5ndWxhci10cmFuc2xhdGUtdGVtcGxhdGVzJ10pXG5cdCAgLmRpcmVjdGl2ZSgndHJhbnNsYXRlRWRpdG9yJywgdHJhbnNsYXRlRWRpdG9yKVxuXHQgIC5jb250cm9sbGVyKCdUcmFuc2xhdGVFZGl0b3JDb250cm9sbGVyJywgVHJhbnNsYXRlRWRpdG9yQ29udHJvbGxlcik7XG5cblx0dHJhbnNsYXRlRWRpdG9yLiRpbmplY3QgPSBbXTtcblx0VHJhbnNsYXRlRWRpdG9yQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnXTtcblxuXHRmdW5jdGlvbiB0cmFuc2xhdGVFZGl0b3IoKSB7XG5cdCAgcmV0dXJuIHtcblx0ICAgIHJlc3RyaWN0OiAnRScsXG5cdCAgICBzY29wZToge1xuXHQgICAgICBiYXNlUGF0aDogJz0nLCAgICAgICAvLyB4UGF0aCBxdWVyeSB0byBhdXRvbWF0aWNhbGx5IHByZXBlbmQgYXMgcm9vdFxuXHQgICAgICBsYW5ndWFnZXM6ICc9JywgICAgICAvLyBhcnJheSBvZiBhbGxvd2FibGUgbG9jYWxlc1xuXHQgICAgICB0cmFuc2xhdGlvbnM6ICc9JywgICAvLyBkaWN0aW9uYXJ5IG9mIGxhbmd1YWdlLXRyYW5zbGF0aW9uc1xuXHQgICAgICBxdWVyaWVzOiAnPScgICAgICAgICAvLyBwcmVkZWZpbmVkIHF1ZXJpZXMgdG8gYnVpbGQgYnV0dG9ucyBvblxuXHQgICAgfSxcblx0ICAgIHJlcGxhY2U6IHRydWUsXG5cdCAgICB0ZW1wbGF0ZVVybDogJ3RyYW5zbGF0ZS1lZGl0b3IudHBsLmh0bWwnLFxuXHQgICAgY29udHJvbGxlcjogJ1RyYW5zbGF0ZUVkaXRvckNvbnRyb2xsZXInLFxuXHQgICAgY29udHJvbGxlckFzOiAnbG9jYWxlJyxcblx0ICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0ICB9O1xuXHR9XG5cblx0ZnVuY3Rpb24gVHJhbnNsYXRlRWRpdG9yQ29udHJvbGxlcigkc2NvcGUpIHtcblx0ICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgLy8gZnJvbSBkaXJlY3RpdmVcblx0ICB2bS5sYW5ndWFnZXMgPSB2bS5sYW5ndWFnZXMgfHwgW107XG5cdCAgdm0udHJhbnNsYXRpb25zID0gdm0udHJhbnNsYXRpb25zIHx8IHt9O1xuXHQgIHZtLnF1ZXJpZXMgPSB2bS5xdWVyaWVzIHx8IFtdO1xuXG5cdCAgLy8gYmluZGFibGUgdmFyaWFibGVzXG5cdCAgdm0uYmluZGluZ3MgPSB7fTsgICAgICAgIC8vIHN0b3JlcyByZXN1bHRzIG9mIHhQYXRoIHF1ZXJ5XG5cdCAgdm0ueG1sRGVmaW5pdGlvbnMgPSB7fTsgIC8vIHhtbCBlcXVpdmFsZW50cyBvZiB0cmFuc2xhdGlvbiBqc29uc1xuXHQgIHZtLmhhc0Vycm9yID0gZmFsc2U7ICAgICAvLyBib29sZWFuIGRldGVybWluaW5nIHdoZXRoZXIgdGhlcmUgd2FzIGEgcXVlcnkgZXJyb3JcblxuXHQgIC8vIGJpbmRhYmxlIG1ldGhvZHNcblx0ICB2bS51cGRhdGVPYmplY3QgPSB1cGRhdGVPYmplY3Q7XG5cdCAgdm0ud3JpdGVPYmplY3RCeUtleSA9IHdyaXRlT2JqZWN0QnlLZXk7XG5cdCAgdm0uZGVsZXRlT2JqZWN0QnlLZXkgPSBkZWxldGVPYmplY3RCeUtleTtcblx0ICB2bS51cGRhdGVUcmFuc2xhdGlvbnMgPSB1cGRhdGVUcmFuc2xhdGlvbnM7XG5cdCAgdm0uZmluZEJ5S2V5ID0gZmluZEJ5S2V5O1xuXG5cdCAgaW5pdCgpO1xuXG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5cdCAgLyoqXG5cdCAgICogUHJpdmF0ZSBNZXRob2RzXG5cdCAgICovXG5cblx0ICBmdW5jdGlvbiBpbml0KCkge1xuXHQgICAgXy5lYWNoKHZtLmxhbmd1YWdlcywgZnVuY3Rpb24gKGxhbmcpIHtcblx0ICAgICAgdm0uYmluZGluZ3NbbGFuZ10gPSB7XG5cdCAgICAgICAgZm9ybXM6IFtdXG5cdCAgICAgIH07XG5cdCAgICAgIHZtLnhtbERlZmluaXRpb25zW2xhbmddID0gSlNPTi50b1hNTCh2bS50cmFuc2xhdGlvbnNbbGFuZ10pO1xuXHQgICAgfSk7XG5cdCAgfVxuXG5cdCAgZnVuY3Rpb24gc3luY0pzb25Ub1hNTCgpIHtcblx0ICAgIF8uZWFjaCh2bS5sYW5ndWFnZXMsIGZ1bmN0aW9uIChsYW5nKSB7XG5cdCAgICAgIHZtLnhtbERlZmluaXRpb25zW2xhbmddID0gSlNPTi50b1hNTCh2bS50cmFuc2xhdGlvbnNbbGFuZ10pO1xuXHQgICAgfSk7XG5cdCAgfVxuXG5cdCAgZnVuY3Rpb24gY2xlYXJCaW5kaW5ncygpIHtcblx0ICAgIF8uZWFjaCh2bS5sYW5ndWFnZXMsIGZ1bmN0aW9uIChsYW5nKSB7XG5cdCAgICAgIHZtLmJpbmRpbmdzW2xhbmddLmZvcm1zID0gW107XG5cdCAgICB9KTtcblx0ICB9XG5cblx0ICBmdW5jdGlvbiB0cmF2ZXJzZU9iamVjdChvYmplY3QsIHBhdGgpIHtcblx0ICAgIHZhciBjdXJyID0gb2JqZWN0O1xuXHQgICAgXy5lYWNoKHBhdGgsIGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgICAgY3VyciA9IGN1cnJba2V5XTtcblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIGN1cnI7XG5cdCAgfVxuXG5cdCAgZnVuY3Rpb24gZ2V0UGF0aFRvTm9kZShub2RlLCBwYXRoKSB7XG5cdCAgICBwYXRoID0gcGF0aCB8fCBbXTtcblx0ICAgIGlmIChub2RlLnBhcmVudE5vZGUpIHtcblx0ICAgICAgcGF0aCA9IGdldFBhdGhUb05vZGUobm9kZS5wYXJlbnROb2RlLCBwYXRoKTtcblx0ICAgIH1cblxuXHQgICAgaWYgKG5vZGUucHJldmlvdXNTaWJsaW5nKSB7XG5cdCAgICAgIHZhciBjb3VudCA9IDE7XG5cdCAgICAgIHZhciBzaWJsaW5nID0gbm9kZS5wcmV2aW91c1NpYmxpbmc7XG5cdCAgICAgIGRvIHtcblx0ICAgICAgICBpZiAoc2libGluZy5ub2RlVHlwZSA9PSAxICYmIHNpYmxpbmcubm9kZU5hbWUgPT0gbm9kZS5ub2RlTmFtZSkgeyBjb3VudCsrOyB9XG5cdCAgICAgICAgc2libGluZyA9IHNpYmxpbmcucHJldmlvdXNTaWJsaW5nO1xuXHQgICAgICB9IHdoaWxlKHNpYmxpbmcpO1xuXHQgICAgICBpZiAoY291bnQgPT0gMSkgeyBjb3VudCA9IG51bGw7IH1cblx0ICAgIH0gZWxzZSBpZihub2RlLm5leHRTaWJsaW5nKSB7XG5cdCAgICAgIHZhciBuZXh0U2libGluZyA9IG5vZGUubmV4dFNpYmxpbmc7XG5cdCAgICAgIGRvIHtcblx0ICAgICAgICBpZiAobmV4dFNpYmxpbmcubm9kZVR5cGUgPT0gMSAmJiBuZXh0U2libGluZy5ub2RlTmFtZSA9PSBub2RlLm5vZGVOYW1lKSB7XG5cdCAgICAgICAgICBuZXh0U2libGluZyA9IG51bGw7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIG5leHRTaWJsaW5nID0gbmV4dFNpYmxpbmcucHJldmlvdXNTaWJsaW5nO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSB3aGlsZShuZXh0U2libGluZyk7XG5cdCAgICB9XG5cblx0ICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEpIHtcblx0ICAgICAgcGF0aC5wdXNoKG5vZGUubm9kZU5hbWUpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHBhdGg7XG5cdCAgfVxuXG5cdCAgLyoqXG5cdCAgICogUHVibGljIE1ldGhvZHNcblx0ICAgKi9cblxuXHQgICRzY29wZS4kd2F0Y2goZnVuY3Rpb24oKSB7XG5cdCAgXHRyZXR1cm4gdm0ubGFuZ3VhZ2VzO1xuXHQgIH0sIGZ1bmN0aW9uIChjdXJyLCBvcmlnKSB7XG5cdCAgXHRpZiAoY3VyciAhPSBvcmlnKSB7XG5cdCAgXHRcdGluaXQoKTsgLy8gcmUtaW5pdGlhbGl6ZSBiaW5kaW5ncyB3aGVuIGxhbmd1YWdlcyBhcmUgYWRkZWQvcmVtb3ZlZFxuXHQgIFx0fVxuXHQgIH0sIHRydWUpO1xuXG5cdCAgLyoqXG5cdCAgICogdXBkYXRlT2JqZWN0XG5cdCAgICogQGRlc2NyaXB0aW9uIEdpdmVuIGEgZmxhdCBqc29uIG9iamVjdCwgdXBkYXRlcyBhbmQgc3luY3MgYSBwYXJ0aWN1bGFyIGtleS92YWx1ZSBwYWlyXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gdXBkYXRlT2JqZWN0KG9iamVjdCwgZm9ybSwga2V5LCB2YWx1ZSkge1xuXHQgICAgdmFyIGN1cnIgPSB0cmF2ZXJzZU9iamVjdChvYmplY3QsIGZvcm0ucGF0aCk7XG5cdCAgICBjdXJyW2tleV0gPSB2YWx1ZTtcblx0ICAgIGZvcm0udmFsdWUgPSBjdXJyO1xuXHQgICAgY3VyciA9IG51bGw7XG5cdCAgfVxuXG5cdCAgLyoqXG5cdCAgICogd3JpdGVPYmplY3RCeUtleVxuXHQgICAqIEBkZXNjcmlwdGlvbiBXcml0ZXMgYSBuZXcgdmFsdWUgdG8gYW4gb2JqZWN0IGJ5IHRyYXZlcnNpbmcgZG93biB0aHJvdWdoIGEgcGF0aFxuXHQgICAqICAgICAgICAgICAgICB0aGVuIHdyaXRlcyBhIHZhbHVlIGdpdmVuIGEga2V5XG5cdCAgICovXG5cdCAgZnVuY3Rpb24gd3JpdGVPYmplY3RCeUtleShvYmplY3QsIGZvcm0pIHtcblx0ICAgIC8vIHVwZGF0ZSBmb3IgZm9ybSBpbiBjdXJyZW50IGxhbmd1YWdlXG5cdCAgICB2YXIgY3VyciA9IHRyYXZlcnNlT2JqZWN0KG9iamVjdCwgZm9ybS5wYXRoKTtcblx0ICAgIC8vIHNldCBuZXcga2V5IHZhbHVlXG5cdCAgICBjdXJyW3ZtLm5ld0tleV0gPSBmb3JtLm5ld1ZhbHVlO1xuXHQgICAgLy8gdXBkYXRlIGpzb24gaW4gcHJldmlld1xuXHQgICAgZm9ybS52YWx1ZSA9IGN1cnI7XG5cdCAgICBjdXJyID0gbnVsbDtcblxuXHQgICAgLy8gY2hlY2sgb3RoZXIgbGFuZ3VhZ2VzIGZvciBrZXkgYW5kIGZpbGwgd2l0aCB2YWx1ZSBpZiBub3QgZXhpc3RzXG5cdCAgICBfLmVhY2goXy53aXRob3V0KHZtLmxhbmd1YWdlcywgZm9ybS5sYW5nKSwgZnVuY3Rpb24gKGxhbmd1YWdlKSB7XG5cdCAgICAgIGN1cnIgPSB0cmF2ZXJzZU9iamVjdCh2bS50cmFuc2xhdGlvbnNbbGFuZ3VhZ2VdLCBmb3JtLnBhdGgpO1xuXHQgICAgICBpZiAoIV8uaGFzKGN1cnIsIHZtLm5ld0tleSkpIHtcblx0ICAgICAgICBjdXJyW3ZtLm5ld0tleV0gPSBmb3JtLm5ld1ZhbHVlO1xuXHQgICAgICAgIF8ubWFwKHZtLmJpbmRpbmdzW2xhbmd1YWdlXS5mb3JtcywgZnVuY3Rpb24gKGZvcm0pIHtcblx0ICAgICAgICAgIC8vIHVwZGF0ZSBqc29uIGluIHByZXZpZXdcblx0ICAgICAgICAgIGZvcm0udmFsdWUgPSBjdXJyO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblxuXHQgICAgLy8gY2xlYXIgaW5wdXRzXG5cdCAgICBkZWxldGUgdm0ubmV3S2V5O1xuXHQgICAgZGVsZXRlIGZvcm0ubmV3VmFsdWU7XG5cblx0ICAgIC8vIHN5bmMgY2hhbmdlZCBqc29uIGJhY2sgdG8geG1sIG1vZGVsXG5cdCAgICBzeW5jSnNvblRvWE1MKCk7XG5cdCAgfVxuXG5cdCAgLyoqXG5cdCAgICogZGVsZXRlT2JqZWN0QnlLZXlcblx0ICAgKiBAZGVzY3JpcHRpb24gRGVsZXRlcyBhIHZhbHVlIGdpdmVuIGEga2V5IGluIGEgZmxhdCBqc29uIG9iamVjdFxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIGRlbGV0ZU9iamVjdEJ5S2V5KGZvcm0sIGtleSkge1xuXHQgICAgXy5lYWNoKHZtLmxhbmd1YWdlcywgZnVuY3Rpb24gKGxhbmd1YWdlKSB7XG5cdCAgICAgIHZhciBjdXJyID0gdHJhdmVyc2VPYmplY3Qodm0udHJhbnNsYXRpb25zW2xhbmd1YWdlXSwgZm9ybS5wYXRoKTtcblx0ICAgICAgLy8gc2V0IG5ldyBrZXkgdmFsdWVcblx0ICAgICAgZGVsZXRlIGN1cnJba2V5XTtcblx0ICAgICAgXy5tYXAodm0uYmluZGluZ3NbbGFuZ3VhZ2VdLmZvcm1zLCBmdW5jdGlvbiAoZm9ybSkge1xuXHQgICAgICAgIC8vIHVwZGF0ZSBqc29uIGluIHByZXZpZXdcblx0ICAgICAgICBmb3JtLnZhbHVlID0gY3Vycjtcblx0ICAgICAgfSk7XG5cdCAgICB9KTtcblx0ICAgIC8vIHN5bmMgY2hhbmdlZCBqc29uIGJhY2sgdG8geG1sIG1vZGVsXG5cdCAgICBzeW5jSnNvblRvWE1MKCk7XG5cdCAgfVxuXG5cdCAgZnVuY3Rpb24gdXBkYXRlVHJhbnNsYXRpb25zKGZvcm0pIHtcblx0ICAgIGZvcm0uZWxlbWVudC5pbm5lckhUTUwgPSBmb3JtLnZhbHVlO1xuXHQgICAgdmFyIHVwZGF0ZWRKU09OID0gRGVmaWFudC5ub2RlLnRvSlNPTih2bS54bWxEZWZpbml0aW9uc1tmb3JtLmxhbmddKTtcblx0ICAgIGFuZ3VsYXIuY29weSh1cGRhdGVkSlNPTiwgdm0udHJhbnNsYXRpb25zW2Zvcm0ubGFuZ10pO1xuXHQgIH1cblxuXHQgIC8qKlxuXHQgICAqIGZpbmRCeUtleVxuXHQgICAqIEBkZXNjcmlwdGlvbiBNYWluIHF1ZXJ5IGZ1bmN0aW9uIGZvciBldmFsdWF0aW5nIHhQYXRoIHF1ZXJpZXMgYWdhaW5zdFxuXHQgICAqICAgICAgICAgICAgICBKU09OIHRyYW5zbGF0aW9uIG9iamVjdHMuXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gZmluZEJ5S2V5KHF1ZXJ5KSB7XG5cdCAgICBkZWxldGUgdm0ubmV3S2V5O1xuXHQgICAgaWYgKCFxdWVyeSkge1xuXHQgICAgICB2bS5oYXNFcnJvciA9IGZhbHNlO1xuXHQgICAgICBjbGVhckJpbmRpbmdzKCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIHF1ZXJ5ID0gYW5ndWxhci51cHBlcmNhc2UocXVlcnkpO1xuXHQgICAgICAgIF8uZWFjaCh2bS5sYW5ndWFnZXMsIGZ1bmN0aW9uIChsYW5nKSB7XG5cdCAgICAgICAgICB2bS5iaW5kaW5nc1tsYW5nXS5mb3JtcyA9IFtdO1xuXHQgICAgICAgICAgdmFyIG5vZGVzID0gRGVmaWFudC5ub2RlLnNlbGVjdE5vZGVzKHZtLnhtbERlZmluaXRpb25zW2xhbmddLCBxdWVyeSk7XG5cdCAgICAgICAgICBfLmVhY2gobm9kZXMsIGZ1bmN0aW9uIChub2RlLCBpZHgpIHtcblx0ICAgICAgICAgICAgdmFyIG5vZGVWYWwgPSBEZWZpYW50Lm5vZGUudG9KU09OKG5vZGUpO1xuXHQgICAgICAgICAgICB2YXIgcGF0aCA9IGdldFBhdGhUb05vZGUobm9kZSkuc2xpY2UoMSk7XG5cdCAgICAgICAgICAgIHZhciBmb3JtID0ge1xuXHQgICAgICAgICAgICAgIGxhbmc6IGxhbmcsXG5cdCAgICAgICAgICAgICAgbGFiZWw6IHBhdGguam9pbihcIi5cIiksXG5cdCAgICAgICAgICAgICAgcGF0aDogcGF0aCxcblx0ICAgICAgICAgICAgICBoYXNJbnB1dDogKHR5cGVvZiBub2RlICE9PSAnb2JqZWN0JyksXG5cdCAgICAgICAgICAgICAgaXNGbGF0OiBfLmFsbChub2RlVmFsLCBmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIF8uaXNTdHJpbmcodmFsdWUpO1xuXHQgICAgICAgICAgICAgIH0pLFxuXHQgICAgICAgICAgICAgIHZhbHVlOiBub2RlVmFsLFxuXHQgICAgICAgICAgICAgIGVsZW1lbnQ6IG5vZGVcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgLy8gb25seSBhbGxvdyBub24gYXJyYXkvb2JqZWN0cyB0byBiZSBlZGl0YWJsZVxuXHQgICAgICAgICAgICBmb3JtLmhhc0lucHV0ID0gKHR5cGVvZiBub2RlVmFsICE9ICdvYmplY3QnKTtcblx0ICAgICAgICAgICAgdm0uYmluZGluZ3NbbGFuZ10uZm9ybXMucHVzaChmb3JtKTtcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgdm0uaGFzRXJyb3IgPSBmYWxzZTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfSBjYXRjaChlcnIpIHsgLy8gcXVlcnkgaW52YWxpZCwgc28gY2xlYXIgYmluZGluZ3Ncblx0ICAgICAgICB2bS5oYXNFcnJvciA9IHRydWU7XG5cdCAgICAgICAgY2xlYXJCaW5kaW5ncygpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHR9XG59KSgpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

angular.module("angular-translate-templates", []).run(["$templateCache", function($templateCache) {$templateCache.put("translate-editor.tpl.html","<div><div class=\"form-group\" ng-class=\"{ \'has-error\': locale.hasError }\"><input type=\"text\" class=\"form-control\" ng-model=\"locale.search\" ng-change=\"locale.findByKey(locale.search)\" ng-model-options=\"{ debounce: 500 }\" placeholder=\"Enter xPath Query Here\"> <small ng-if=\"locale.hasError\" class=\"pull-right text-danger\">Invalid Query!</small></div><button class=\"btn btn-default btn-sm\" ng-repeat=\"query in locale.queries track by $index\" ng-click=\"locale.findByKey(query.search); locale.search = query.search;\">{{query.label}}</button><hr><accordion ng-if=\"!locale.hasError\" close-others=\"false\"><accordion-group ng-repeat=\"language in locale.languages track by $index\" is-open=\"locale.tabs[language].$isOpen\"><accordion-heading>Edit {{language | uppercase}} Dictionary <i class=\"pull-right glyphicon\" ng-class=\"{\'glyphicon-chevron-down\': locale.tabs[language].$isOpen, \'glyphicon-chevron-right\': !locale.tabs[language].$isOpen}\"></i></accordion-heading><div class=\"form-group\" ng-repeat=\"form in locale.bindings[language].forms track by $index\"><div ng-if=\"form.hasInput\"><label>{{form.label}}:</label><input type=\"text\" class=\"form-control input-sm\" ng-model=\"form.value\" ng-change=\"locale.updateTranslations(form)\" ng-model-options=\"{ debounce: 500 }\"></div><div ng-if=\"!form.hasInput\"><div class=\"panel panel-default\"><div class=\"panel-body\"><div ng-if=\"form.isFlat\"><div class=\"form-group\" ng-repeat=\"(key, value) in form.value track by $index\"><label>{{form.label}}.{{key}}</label><div class=\"input-group\"><input type=\"text\" class=\"form-control input-sm\" ng-model=\"value\" ng-change=\"locale.updateObject(locale.translations[language], form, key, value)\" ng-model-options=\"{ debounce: 500 }\"> <span class=\"input-group-btn\"><button type=\"button\" tabindex=\"-1\" class=\"btn btn-warning btn-sm\" ng-click=\"locale.deleteObjectByKey(form, key)\">Delete</button></span></div></div></div><pre ng-if=\"!form.isFlat\">{{form.value | json}}</pre></div><div class=\"panel-footer\"><div class=\"row\"><div class=\"col-md-4\"><label>{{form.label}}.{{locale.newKey}}</label><input type=\"text\" class=\"form-control input-sm\" ng-model=\"locale.newKey\" placeholder=\"TRANSLATION_KEY\"></div><div class=\"col-md-8\"><label>Translated Value</label><div class=\"input-group\"><input type=\"text\" class=\"form-control input-sm\" ng-model=\"form.newValue\" placeholder=\"Translated Value\"> <span class=\"input-group-btn\"><button type=\"button\" class=\"btn btn-primary btn-sm\" ng-disabled=\"!form.newValue || !locale.newKey\" ng-click=\"locale.writeObjectByKey(locale.translations[language], form)\">Insert</button></span></div></div></div></div></div></div></div><div ng-if=\"locale.search\" class=\"checkbox\"><label><input type=\"checkbox\" ng-model=\"locale.showAll[language]\"> Show Full Translation</label></div><pre ng-if=\"!locale.search\">{{locale.translations[language]| json}}</pre><div ng-repeat=\"form in locale.bindings[language].forms track by $index\"><pre ng-if=\"!locale.showAll[language]\">{{form.value | json}}</pre><pre ng-if=\"locale.showAll[language]\">{{locale.translations[language]| json}}</pre></div></accordion-group></accordion></div>");}]);