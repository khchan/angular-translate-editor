!function(){"use strict";function n(){return{restrict:"E",scope:{languages:"=",translations:"=",queries:"=",onUpdate:"=",onRemove:"="},replace:!0,templateUrl:"translate-editor.tpl.html",controller:"TranslateEditorController",controllerAs:"locale",bindToController:!0}}function e(n){function e(){_.each(g.languages,function(n){g.bindings[n]={forms:[]},g.xmlDefinitions[n]=JSON.toXML(g.translations[n])})}function t(){_.each(g.languages,function(n){g.xmlDefinitions[n]=JSON.toXML(g.translations[n])})}function a(){_.each(g.languages,function(n){g.bindings[n].forms=[]})}function o(n,e){var t=n;return _.each(e,function(n){t=t[n]}),t}function i(n,e){if(e=e||[],n.parentNode&&(e=i(n.parentNode,e)),n.previousSibling){var t=1,a=n.previousSibling;do 1==a.nodeType&&a.nodeName==n.nodeName&&t++,a=a.previousSibling;while(a);1==t&&(t=null)}else if(n.nextSibling){var o=n.nextSibling;do o=1==o.nodeType&&o.nodeName==n.nodeName?null:o.previousSibling;while(o)}return 1==n.nodeType&&e.push(n.nodeName),e}function l(n,e,t,a){var i=o(n,e.path);i[t]=a,e.value=i,i=null}function r(n,e){var a=o(n,e.path);a[g.newKey]=e.newValue,e.value=a,a=null,_.each(_.without(g.languages,e.lang),function(n){a=o(g.translations[n],e.path),_.has(a,g.newKey)||(a[g.newKey]=e.newValue,_.map(g.bindings[n].forms,function(n){n.value=a}))}),delete g.newKey,delete e.newValue,t()}function s(n,e){_.each(g.languages,function(t){var a=o(g.translations[t],n.path);delete a[e],_.map(g.bindings[t].forms,function(n){n.value=a})}),t()}function u(n){n.element.innerHTML=n.value;var e=Defiant.node.toJSON(g.xmlDefinitions[n.lang]);angular.copy(e,g.translations[n.lang])}function c(n){if(delete g.newKey,n)try{n=angular.uppercase(n),_.each(g.languages,function(e){g.bindings[e].forms=[];var t=Defiant.node.selectNodes(g.xmlDefinitions[e],n);_.each(t,function(n,t){var a=Defiant.node.toJSON(n),o=i(n).slice(1),l={lang:e,label:o.join("."),path:o,hasInput:"object"!=typeof n,isFlat:_.all(a,function(n,e){return _.isString(n)}),value:a,element:n};l.hasInput="object"!=typeof a,g.bindings[e].forms.push(l)}),g.hasError=!1})}catch(e){g.hasError=!0,a()}else g.hasError=!1,a()}function f(n,e){return e&&(e.preventDefault(),e.stopPropagation()),g.onUpdate(n)}function p(n,e){return e&&(e.preventDefault(),e.stopPropagation()),g.onRemove(n)}var g=this;g.languages=g.languages||[],g.translations=g.translations||{},g.queries=g.queries||[],g.onUpdate=g.onUpdate||angular.noop(),g.onRemove=g.onRemove||angular.noop(),g.bindings={},g.xmlDefinitions={},g.hasError=!1,g.updateObject=l,g.writeObjectByKey=r,g.deleteObjectByKey=s,g.updateTranslations=u,g.findByKey=c,g.callbackUpdate=f,g.callbackRemove=p,e(),n.$watch(function(){return g.languages},function(n,t){n!=t&&e()},!0)}angular.module("khchan.translate-editor",["ui.bootstrap","angular-translate-templates"]).directive("translateEditor",n).controller("TranslateEditorController",e),n.$inject=[],e.$inject=["$scope"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuZ3VsYXItdHJhbnNsYXRlLWVkaXRvci5qcyJdLCJuYW1lcyI6WyJ0cmFuc2xhdGVFZGl0b3IiLCJyZXN0cmljdCIsInNjb3BlIiwibGFuZ3VhZ2VzIiwidHJhbnNsYXRpb25zIiwicXVlcmllcyIsIm9uVXBkYXRlIiwib25SZW1vdmUiLCJyZXBsYWNlIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwiY29udHJvbGxlckFzIiwiYmluZFRvQ29udHJvbGxlciIsIlRyYW5zbGF0ZUVkaXRvckNvbnRyb2xsZXIiLCIkc2NvcGUiLCJpbml0IiwiXyIsImVhY2giLCJ2bSIsImxhbmciLCJiaW5kaW5ncyIsImZvcm1zIiwieG1sRGVmaW5pdGlvbnMiLCJKU09OIiwidG9YTUwiLCJzeW5jSnNvblRvWE1MIiwiY2xlYXJCaW5kaW5ncyIsInRyYXZlcnNlT2JqZWN0Iiwib2JqZWN0IiwicGF0aCIsImN1cnIiLCJrZXkiLCJnZXRQYXRoVG9Ob2RlIiwibm9kZSIsInBhcmVudE5vZGUiLCJwcmV2aW91c1NpYmxpbmciLCJjb3VudCIsInNpYmxpbmciLCJub2RlVHlwZSIsIm5vZGVOYW1lIiwibmV4dFNpYmxpbmciLCJwdXNoIiwidXBkYXRlT2JqZWN0IiwiZm9ybSIsInZhbHVlIiwid3JpdGVPYmplY3RCeUtleSIsIm5ld0tleSIsIm5ld1ZhbHVlIiwid2l0aG91dCIsImxhbmd1YWdlIiwiaGFzIiwibWFwIiwiZGVsZXRlT2JqZWN0QnlLZXkiLCJ1cGRhdGVUcmFuc2xhdGlvbnMiLCJlbGVtZW50IiwiaW5uZXJIVE1MIiwidXBkYXRlZEpTT04iLCJEZWZpYW50IiwidG9KU09OIiwiYW5ndWxhciIsImNvcHkiLCJmaW5kQnlLZXkiLCJxdWVyeSIsInVwcGVyY2FzZSIsIm5vZGVzIiwic2VsZWN0Tm9kZXMiLCJpZHgiLCJub2RlVmFsIiwic2xpY2UiLCJsYWJlbCIsImpvaW4iLCJoYXNJbnB1dCIsImlzRmxhdCIsImFsbCIsImlzU3RyaW5nIiwiaGFzRXJyb3IiLCJlcnIiLCJjYWxsYmFja1VwZGF0ZSIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJjYWxsYmFja1JlbW92ZSIsInRoaXMiLCJub29wIiwiJHdhdGNoIiwib3JpZyIsIm1vZHVsZSIsImRpcmVjdGl2ZSIsIiRpbmplY3QiXSwibWFwcGluZ3MiOiJDQUFBLFdBQ0MsWUFTQSxTQUFTQSxLQUNQLE9BQ0VDLFNBQVUsSUFDVkMsT0FDRUMsVUFBVyxJQUNYQyxhQUFjLElBQ2RDLFFBQVMsSUFDVEMsU0FBVSxJQUNWQyxTQUFVLEtBRVpDLFNBQVMsRUFDVEMsWUFBYSw0QkFDYkMsV0FBWSw0QkFDWkMsYUFBYyxTQUNkQyxrQkFBa0IsR0FJdEIsUUFBU0MsR0FBMEJDLEdBZ0NqQyxRQUFTQyxLQUNQQyxFQUFFQyxLQUFLQyxFQUFHZixVQUFXLFNBQVVnQixHQUM3QkQsRUFBR0UsU0FBU0QsSUFDVkUsVUFFRkgsRUFBR0ksZUFBZUgsR0FBUUksS0FBS0MsTUFBTU4sRUFBR2QsYUFBYWUsTUFJekQsUUFBU00sS0FDUFQsRUFBRUMsS0FBS0MsRUFBR2YsVUFBVyxTQUFVZ0IsR0FDN0JELEVBQUdJLGVBQWVILEdBQVFJLEtBQUtDLE1BQU1OLEVBQUdkLGFBQWFlLE1BSXpELFFBQVNPLEtBQ1BWLEVBQUVDLEtBQUtDLEVBQUdmLFVBQVcsU0FBVWdCLEdBQzdCRCxFQUFHRSxTQUFTRCxHQUFNRSxXQUl0QixRQUFTTSxHQUFlQyxFQUFRQyxHQUM5QixHQUFJQyxHQUFPRixDQUlYLE9BSEFaLEdBQUVDLEtBQUtZLEVBQU0sU0FBVUUsR0FDckJELEVBQU9BLEVBQUtDLEtBRVBELEVBR1QsUUFBU0UsR0FBY0MsRUFBTUosR0FNM0IsR0FMQUEsRUFBT0EsTUFDSEksRUFBS0MsYUFDUEwsRUFBT0csRUFBY0MsRUFBS0MsV0FBWUwsSUFHcENJLEVBQUtFLGdCQUFpQixDQUN4QixHQUFJQyxHQUFRLEVBQ1JDLEVBQVVKLEVBQUtFLGVBQ25CLEdBQzBCLElBQXBCRSxFQUFRQyxVQUFpQkQsRUFBUUUsVUFBWU4sRUFBS00sVUFBWUgsSUFDbEVDLEVBQVVBLEVBQVFGLHNCQUNaRSxFQUNLLElBQVRELElBQWNBLEVBQVEsVUFDckIsSUFBR0gsRUFBS08sWUFBYSxDQUMxQixHQUFJQSxHQUFjUCxFQUFLTyxXQUN2QixHQUVJQSxHQUQwQixHQUF4QkEsRUFBWUYsVUFBaUJFLEVBQVlELFVBQVlOLEVBQUtNLFNBQzlDLEtBRUFDLEVBQVlMLHNCQUV0QkssR0FNVixNQUhxQixJQUFqQlAsRUFBS0ssVUFDUFQsRUFBS1ksS0FBS1IsRUFBS00sVUFFVlYsRUFtQlQsUUFBU2EsR0FBYWQsRUFBUWUsRUFBTVosRUFBS2EsR0FDdkMsR0FBSWQsR0FBT0gsRUFBZUMsRUFBUWUsRUFBS2QsS0FDdkNDLEdBQUtDLEdBQU9hLEVBQ1pELEVBQUtDLE1BQVFkLEVBQ2JBLEVBQU8sS0FRVCxRQUFTZSxHQUFpQmpCLEVBQVFlLEdBRWhDLEdBQUliLEdBQU9ILEVBQWVDLEVBQVFlLEVBQUtkLEtBRXZDQyxHQUFLWixFQUFHNEIsUUFBVUgsRUFBS0ksU0FFdkJKLEVBQUtDLE1BQVFkLEVBQ2JBLEVBQU8sS0FHUGQsRUFBRUMsS0FBS0QsRUFBRWdDLFFBQVE5QixFQUFHZixVQUFXd0MsRUFBS3hCLE1BQU8sU0FBVThCLEdBQ25EbkIsRUFBT0gsRUFBZVQsRUFBR2QsYUFBYTZDLEdBQVdOLEVBQUtkLE1BQ2pEYixFQUFFa0MsSUFBSXBCLEVBQU1aLEVBQUc0QixVQUNsQmhCLEVBQUtaLEVBQUc0QixRQUFVSCxFQUFLSSxTQUN2Qi9CLEVBQUVtQyxJQUFJakMsRUFBR0UsU0FBUzZCLEdBQVU1QixNQUFPLFNBQVVzQixHQUUzQ0EsRUFBS0MsTUFBUWQsYUFNWlosR0FBRzRCLGFBQ0hILEdBQUtJLFNBR1p0QixJQU9GLFFBQVMyQixHQUFrQlQsRUFBTVosR0FDL0JmLEVBQUVDLEtBQUtDLEVBQUdmLFVBQVcsU0FBVThDLEdBQzdCLEdBQUluQixHQUFPSCxFQUFlVCxFQUFHZCxhQUFhNkMsR0FBV04sRUFBS2QsWUFFbkRDLEdBQUtDLEdBQ1pmLEVBQUVtQyxJQUFJakMsRUFBR0UsU0FBUzZCLEdBQVU1QixNQUFPLFNBQVVzQixHQUUzQ0EsRUFBS0MsTUFBUWQsTUFJakJMLElBR0YsUUFBUzRCLEdBQW1CVixHQUMxQkEsRUFBS1csUUFBUUMsVUFBWVosRUFBS0MsS0FDOUIsSUFBSVksR0FBY0MsUUFBUXhCLEtBQUt5QixPQUFPeEMsRUFBR0ksZUFBZXFCLEVBQUt4QixNQUM3RHdDLFNBQVFDLEtBQUtKLEVBQWF0QyxFQUFHZCxhQUFhdUMsRUFBS3hCLE9BUWpELFFBQVMwQyxHQUFVQyxHQUVqQixTQURPNUMsR0FBRzRCLE9BQ0xnQixFQUlILElBQ0VBLEVBQVFILFFBQVFJLFVBQVVELEdBQzFCOUMsRUFBRUMsS0FBS0MsRUFBR2YsVUFBVyxTQUFVZ0IsR0FDN0JELEVBQUdFLFNBQVNELEdBQU1FLFFBQ2xCLElBQUkyQyxHQUFRUCxRQUFReEIsS0FBS2dDLFlBQVkvQyxFQUFHSSxlQUFlSCxHQUFPMkMsRUFDOUQ5QyxHQUFFQyxLQUFLK0MsRUFBTyxTQUFVL0IsRUFBTWlDLEdBQzVCLEdBQUlDLEdBQVVWLFFBQVF4QixLQUFLeUIsT0FBT3pCLEdBQzlCSixFQUFPRyxFQUFjQyxHQUFNbUMsTUFBTSxHQUNqQ3pCLEdBQ0Z4QixLQUFNQSxFQUNOa0QsTUFBT3hDLEVBQUt5QyxLQUFLLEtBQ2pCekMsS0FBTUEsRUFDTjBDLFNBQTJCLGdCQUFUdEMsR0FDbEJ1QyxPQUFReEQsRUFBRXlELElBQUlOLEVBQVMsU0FBVXZCLEVBQU9iLEdBQ3RDLE1BQU9mLEdBQUUwRCxTQUFTOUIsS0FFcEJBLE1BQU91QixFQUNQYixRQUFTckIsRUFHWFUsR0FBSzRCLFNBQThCLGdCQUFYSixHQUN4QmpELEVBQUdFLFNBQVNELEdBQU1FLE1BQU1vQixLQUFLRSxLQUUvQnpCLEVBQUd5RCxVQUFXLElBRWhCLE1BQU1DLEdBQ04xRCxFQUFHeUQsVUFBVyxFQUNkakQsUUE5QkZSLEdBQUd5RCxVQUFXLEVBQ2RqRCxJQXNDSixRQUFTbUQsR0FBZTVCLEVBQVU2QixHQUtqQyxNQUpJQSxLQUNKQSxFQUFNQyxpQkFDTkQsRUFBTUUsbUJBRUM5RCxFQUFHWixTQUFTMkMsR0FPcEIsUUFBU2dDLEdBQWVoQyxFQUFVNkIsR0FLakMsTUFKSUEsS0FDSkEsRUFBTUMsaUJBQ05ELEVBQU1FLG1CQUVDOUQsRUFBR1gsU0FBUzBDLEdBNU9wQixHQUFJL0IsR0FBS2dFLElBR1RoRSxHQUFHZixVQUFZZSxFQUFHZixjQUNsQmUsRUFBR2QsYUFBZWMsRUFBR2QsaUJBQ3JCYyxFQUFHYixRQUFVYSxFQUFHYixZQUNoQmEsRUFBR1osU0FBV1ksRUFBR1osVUFBWXFELFFBQVF3QixPQUNyQ2pFLEVBQUdYLFNBQVdXLEVBQUdYLFVBQVlvRCxRQUFRd0IsT0FHckNqRSxFQUFHRSxZQUNIRixFQUFHSSxrQkFDSEosRUFBR3lELFVBQVcsRUFHZHpELEVBQUd3QixhQUFlQSxFQUNsQnhCLEVBQUcyQixpQkFBbUJBLEVBQ3RCM0IsRUFBR2tDLGtCQUFvQkEsRUFDdkJsQyxFQUFHbUMsbUJBQXFCQSxFQUN4Qm5DLEVBQUcyQyxVQUFZQSxFQUNmM0MsRUFBRzJELGVBQWlCQSxFQUNwQjNELEVBQUcrRCxlQUFpQkEsRUFFcEJsRSxJQXdFQUQsRUFBT3NFLE9BQU8sV0FDYixNQUFPbEUsR0FBR2YsV0FDUixTQUFVMkIsRUFBTXVELEdBQ2R2RCxHQUFRdUQsR0FDWHRFLE1BRUMsR0FoSUw0QyxRQUNHMkIsT0FBTywyQkFBNEIsZUFBZ0IsZ0NBQ25EQyxVQUFVLGtCQUFtQnZGLEdBQzdCVSxXQUFXLDRCQUE2QkcsR0FFM0NiLEVBQWdCd0YsV0FDaEIzRSxFQUEwQjJFLFNBQVciLCJmaWxlIjoiYW5ndWxhci10cmFuc2xhdGUtZWRpdG9yLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCkge1xuXHQndXNlIHN0cmljdCc7XG5cdGFuZ3VsYXJcblx0ICAubW9kdWxlKCdraGNoYW4udHJhbnNsYXRlLWVkaXRvcicsIFsndWkuYm9vdHN0cmFwJywgJ2FuZ3VsYXItdHJhbnNsYXRlLXRlbXBsYXRlcyddKVxuXHQgIC5kaXJlY3RpdmUoJ3RyYW5zbGF0ZUVkaXRvcicsIHRyYW5zbGF0ZUVkaXRvcilcblx0ICAuY29udHJvbGxlcignVHJhbnNsYXRlRWRpdG9yQ29udHJvbGxlcicsIFRyYW5zbGF0ZUVkaXRvckNvbnRyb2xsZXIpO1xuXG5cdHRyYW5zbGF0ZUVkaXRvci4kaW5qZWN0ID0gW107XG5cdFRyYW5zbGF0ZUVkaXRvckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJ107XG5cblx0ZnVuY3Rpb24gdHJhbnNsYXRlRWRpdG9yKCkge1xuXHQgIHJldHVybiB7XG5cdCAgICByZXN0cmljdDogJ0UnLFxuXHQgICAgc2NvcGU6IHtcblx0ICAgICAgbGFuZ3VhZ2VzOiAnPScsICAgICAgLy8gYXJyYXkgb2YgYWxsb3dhYmxlIGxvY2FsZXNcblx0ICAgICAgdHJhbnNsYXRpb25zOiAnPScsICAgLy8gZGljdGlvbmFyeSBvZiBsYW5ndWFnZS10cmFuc2xhdGlvbnNcblx0ICAgICAgcXVlcmllczogJz0nLCAgICAgICAgLy8gcHJlZGVmaW5lZCBxdWVyaWVzIHRvIGJ1aWxkIGJ1dHRvbnMgb25cblx0ICAgICAgb25VcGRhdGU6ICc9JyxcdFx0XHQgLy8gY2FsbGJhY2sgb24gdXBkYXRlIG9uZVxuXHQgICAgICBvblJlbW92ZTogJz0nXHRcdFx0XHQgLy8gY2FsbGJhY2sgb24gcmVtb3ZlIG9uZVxuXHQgICAgfSxcblx0ICAgIHJlcGxhY2U6IHRydWUsXG5cdCAgICB0ZW1wbGF0ZVVybDogJ3RyYW5zbGF0ZS1lZGl0b3IudHBsLmh0bWwnLFxuXHQgICAgY29udHJvbGxlcjogJ1RyYW5zbGF0ZUVkaXRvckNvbnRyb2xsZXInLFxuXHQgICAgY29udHJvbGxlckFzOiAnbG9jYWxlJyxcblx0ICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0ICB9O1xuXHR9XG5cblx0ZnVuY3Rpb24gVHJhbnNsYXRlRWRpdG9yQ29udHJvbGxlcigkc2NvcGUpIHtcblx0ICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgLy8gZnJvbSBkaXJlY3RpdmVcblx0ICB2bS5sYW5ndWFnZXMgPSB2bS5sYW5ndWFnZXMgfHwgW107XG5cdCAgdm0udHJhbnNsYXRpb25zID0gdm0udHJhbnNsYXRpb25zIHx8IHt9O1xuXHQgIHZtLnF1ZXJpZXMgPSB2bS5xdWVyaWVzIHx8IFtdO1xuXHQgIHZtLm9uVXBkYXRlID0gdm0ub25VcGRhdGUgfHwgYW5ndWxhci5ub29wKCk7XG5cdCAgdm0ub25SZW1vdmUgPSB2bS5vblJlbW92ZSB8fCBhbmd1bGFyLm5vb3AoKTtcblxuXHQgIC8vIGJpbmRhYmxlIHZhcmlhYmxlc1xuXHQgIHZtLmJpbmRpbmdzID0ge307ICAgICAgICAvLyBzdG9yZXMgcmVzdWx0cyBvZiB4UGF0aCBxdWVyeVxuXHQgIHZtLnhtbERlZmluaXRpb25zID0ge307ICAvLyB4bWwgZXF1aXZhbGVudHMgb2YgdHJhbnNsYXRpb24ganNvbnNcblx0ICB2bS5oYXNFcnJvciA9IGZhbHNlOyAgICAgLy8gYm9vbGVhbiBkZXRlcm1pbmluZyB3aGV0aGVyIHRoZXJlIHdhcyBhIHF1ZXJ5IGVycm9yXG5cblx0ICAvLyBiaW5kYWJsZSBtZXRob2RzXG5cdCAgdm0udXBkYXRlT2JqZWN0ID0gdXBkYXRlT2JqZWN0O1xuXHQgIHZtLndyaXRlT2JqZWN0QnlLZXkgPSB3cml0ZU9iamVjdEJ5S2V5O1xuXHQgIHZtLmRlbGV0ZU9iamVjdEJ5S2V5ID0gZGVsZXRlT2JqZWN0QnlLZXk7XG5cdCAgdm0udXBkYXRlVHJhbnNsYXRpb25zID0gdXBkYXRlVHJhbnNsYXRpb25zO1xuXHQgIHZtLmZpbmRCeUtleSA9IGZpbmRCeUtleTtcblx0ICB2bS5jYWxsYmFja1VwZGF0ZSA9IGNhbGxiYWNrVXBkYXRlO1xuXHQgIHZtLmNhbGxiYWNrUmVtb3ZlID0gY2FsbGJhY2tSZW1vdmU7XG5cblx0ICBpbml0KCk7XG5cblx0ICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cblx0ICAvKipcblx0ICAgKiBQcml2YXRlIE1ldGhvZHNcblx0ICAgKi9cblxuXHQgIGZ1bmN0aW9uIGluaXQoKSB7XG5cdCAgICBfLmVhY2godm0ubGFuZ3VhZ2VzLCBmdW5jdGlvbiAobGFuZykge1xuXHQgICAgICB2bS5iaW5kaW5nc1tsYW5nXSA9IHtcblx0ICAgICAgICBmb3JtczogW11cblx0ICAgICAgfTtcblx0ICAgICAgdm0ueG1sRGVmaW5pdGlvbnNbbGFuZ10gPSBKU09OLnRvWE1MKHZtLnRyYW5zbGF0aW9uc1tsYW5nXSk7XG5cdCAgICB9KTtcblx0ICB9XG5cblx0ICBmdW5jdGlvbiBzeW5jSnNvblRvWE1MKCkge1xuXHQgICAgXy5lYWNoKHZtLmxhbmd1YWdlcywgZnVuY3Rpb24gKGxhbmcpIHtcblx0ICAgICAgdm0ueG1sRGVmaW5pdGlvbnNbbGFuZ10gPSBKU09OLnRvWE1MKHZtLnRyYW5zbGF0aW9uc1tsYW5nXSk7XG5cdCAgICB9KTtcblx0ICB9XG5cblx0ICBmdW5jdGlvbiBjbGVhckJpbmRpbmdzKCkge1xuXHQgICAgXy5lYWNoKHZtLmxhbmd1YWdlcywgZnVuY3Rpb24gKGxhbmcpIHtcblx0ICAgICAgdm0uYmluZGluZ3NbbGFuZ10uZm9ybXMgPSBbXTtcblx0ICAgIH0pO1xuXHQgIH1cblxuXHQgIGZ1bmN0aW9uIHRyYXZlcnNlT2JqZWN0KG9iamVjdCwgcGF0aCkge1xuXHQgICAgdmFyIGN1cnIgPSBvYmplY3Q7XG5cdCAgICBfLmVhY2gocGF0aCwgZnVuY3Rpb24gKGtleSkge1xuXHQgICAgICBjdXJyID0gY3VycltrZXldO1xuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gY3Vycjtcblx0ICB9XG5cblx0ICBmdW5jdGlvbiBnZXRQYXRoVG9Ob2RlKG5vZGUsIHBhdGgpIHtcblx0ICAgIHBhdGggPSBwYXRoIHx8IFtdO1xuXHQgICAgaWYgKG5vZGUucGFyZW50Tm9kZSkge1xuXHQgICAgICBwYXRoID0gZ2V0UGF0aFRvTm9kZShub2RlLnBhcmVudE5vZGUsIHBhdGgpO1xuXHQgICAgfVxuXG5cdCAgICBpZiAobm9kZS5wcmV2aW91c1NpYmxpbmcpIHtcblx0ICAgICAgdmFyIGNvdW50ID0gMTtcblx0ICAgICAgdmFyIHNpYmxpbmcgPSBub2RlLnByZXZpb3VzU2libGluZztcblx0ICAgICAgZG8ge1xuXHQgICAgICAgIGlmIChzaWJsaW5nLm5vZGVUeXBlID09IDEgJiYgc2libGluZy5ub2RlTmFtZSA9PSBub2RlLm5vZGVOYW1lKSB7IGNvdW50Kys7IH1cblx0ICAgICAgICBzaWJsaW5nID0gc2libGluZy5wcmV2aW91c1NpYmxpbmc7XG5cdCAgICAgIH0gd2hpbGUoc2libGluZyk7XG5cdCAgICAgIGlmIChjb3VudCA9PSAxKSB7IGNvdW50ID0gbnVsbDsgfVxuXHQgICAgfSBlbHNlIGlmKG5vZGUubmV4dFNpYmxpbmcpIHtcblx0ICAgICAgdmFyIG5leHRTaWJsaW5nID0gbm9kZS5uZXh0U2libGluZztcblx0ICAgICAgZG8ge1xuXHQgICAgICAgIGlmIChuZXh0U2libGluZy5ub2RlVHlwZSA9PSAxICYmIG5leHRTaWJsaW5nLm5vZGVOYW1lID09IG5vZGUubm9kZU5hbWUpIHtcblx0ICAgICAgICAgIG5leHRTaWJsaW5nID0gbnVsbDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgbmV4dFNpYmxpbmcgPSBuZXh0U2libGluZy5wcmV2aW91c1NpYmxpbmc7XG5cdCAgICAgICAgfVxuXHQgICAgICB9IHdoaWxlKG5leHRTaWJsaW5nKTtcblx0ICAgIH1cblxuXHQgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSkge1xuXHQgICAgICBwYXRoLnB1c2gobm9kZS5ub2RlTmFtZSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcGF0aDtcblx0ICB9XG5cblx0ICAvKipcblx0ICAgKiBQdWJsaWMgTWV0aG9kc1xuXHQgICAqL1xuXG5cdCAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbigpIHtcblx0ICBcdHJldHVybiB2bS5sYW5ndWFnZXM7XG5cdCAgfSwgZnVuY3Rpb24gKGN1cnIsIG9yaWcpIHtcblx0ICBcdGlmIChjdXJyICE9IG9yaWcpIHtcblx0ICBcdFx0aW5pdCgpOyAvLyByZS1pbml0aWFsaXplIGJpbmRpbmdzIHdoZW4gbGFuZ3VhZ2VzIGFyZSBhZGRlZC9yZW1vdmVkXG5cdCAgXHR9XG5cdCAgfSwgdHJ1ZSk7XG5cblx0ICAvKipcblx0ICAgKiB1cGRhdGVPYmplY3Rcblx0ICAgKiBAZGVzY3JpcHRpb24gR2l2ZW4gYSBmbGF0IGpzb24gb2JqZWN0LCB1cGRhdGVzIGFuZCBzeW5jcyBhIHBhcnRpY3VsYXIga2V5L3ZhbHVlIHBhaXJcblx0ICAgKi9cblx0ICBmdW5jdGlvbiB1cGRhdGVPYmplY3Qob2JqZWN0LCBmb3JtLCBrZXksIHZhbHVlKSB7XG5cdCAgICB2YXIgY3VyciA9IHRyYXZlcnNlT2JqZWN0KG9iamVjdCwgZm9ybS5wYXRoKTtcblx0ICAgIGN1cnJba2V5XSA9IHZhbHVlO1xuXHQgICAgZm9ybS52YWx1ZSA9IGN1cnI7XG5cdCAgICBjdXJyID0gbnVsbDtcblx0ICB9XG5cblx0ICAvKipcblx0ICAgKiB3cml0ZU9iamVjdEJ5S2V5XG5cdCAgICogQGRlc2NyaXB0aW9uIFdyaXRlcyBhIG5ldyB2YWx1ZSB0byBhbiBvYmplY3QgYnkgdHJhdmVyc2luZyBkb3duIHRocm91Z2ggYSBwYXRoXG5cdCAgICogICAgICAgICAgICAgIHRoZW4gd3JpdGVzIGEgdmFsdWUgZ2l2ZW4gYSBrZXlcblx0ICAgKi9cblx0ICBmdW5jdGlvbiB3cml0ZU9iamVjdEJ5S2V5KG9iamVjdCwgZm9ybSkge1xuXHQgICAgLy8gdXBkYXRlIGZvciBmb3JtIGluIGN1cnJlbnQgbGFuZ3VhZ2Vcblx0ICAgIHZhciBjdXJyID0gdHJhdmVyc2VPYmplY3Qob2JqZWN0LCBmb3JtLnBhdGgpO1xuXHQgICAgLy8gc2V0IG5ldyBrZXkgdmFsdWVcblx0ICAgIGN1cnJbdm0ubmV3S2V5XSA9IGZvcm0ubmV3VmFsdWU7XG5cdCAgICAvLyB1cGRhdGUganNvbiBpbiBwcmV2aWV3XG5cdCAgICBmb3JtLnZhbHVlID0gY3Vycjtcblx0ICAgIGN1cnIgPSBudWxsO1xuXG5cdCAgICAvLyBjaGVjayBvdGhlciBsYW5ndWFnZXMgZm9yIGtleSBhbmQgZmlsbCB3aXRoIHZhbHVlIGlmIG5vdCBleGlzdHNcblx0ICAgIF8uZWFjaChfLndpdGhvdXQodm0ubGFuZ3VhZ2VzLCBmb3JtLmxhbmcpLCBmdW5jdGlvbiAobGFuZ3VhZ2UpIHtcblx0ICAgICAgY3VyciA9IHRyYXZlcnNlT2JqZWN0KHZtLnRyYW5zbGF0aW9uc1tsYW5ndWFnZV0sIGZvcm0ucGF0aCk7XG5cdCAgICAgIGlmICghXy5oYXMoY3Vyciwgdm0ubmV3S2V5KSkge1xuXHQgICAgICAgIGN1cnJbdm0ubmV3S2V5XSA9IGZvcm0ubmV3VmFsdWU7XG5cdCAgICAgICAgXy5tYXAodm0uYmluZGluZ3NbbGFuZ3VhZ2VdLmZvcm1zLCBmdW5jdGlvbiAoZm9ybSkge1xuXHQgICAgICAgICAgLy8gdXBkYXRlIGpzb24gaW4gcHJldmlld1xuXHQgICAgICAgICAgZm9ybS52YWx1ZSA9IGN1cnI7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXG5cdCAgICAvLyBjbGVhciBpbnB1dHNcblx0ICAgIGRlbGV0ZSB2bS5uZXdLZXk7XG5cdCAgICBkZWxldGUgZm9ybS5uZXdWYWx1ZTtcblxuXHQgICAgLy8gc3luYyBjaGFuZ2VkIGpzb24gYmFjayB0byB4bWwgbW9kZWxcblx0ICAgIHN5bmNKc29uVG9YTUwoKTtcblx0ICB9XG5cblx0ICAvKipcblx0ICAgKiBkZWxldGVPYmplY3RCeUtleVxuXHQgICAqIEBkZXNjcmlwdGlvbiBEZWxldGVzIGEgdmFsdWUgZ2l2ZW4gYSBrZXkgaW4gYSBmbGF0IGpzb24gb2JqZWN0XG5cdCAgICovXG5cdCAgZnVuY3Rpb24gZGVsZXRlT2JqZWN0QnlLZXkoZm9ybSwga2V5KSB7XG5cdCAgICBfLmVhY2godm0ubGFuZ3VhZ2VzLCBmdW5jdGlvbiAobGFuZ3VhZ2UpIHtcblx0ICAgICAgdmFyIGN1cnIgPSB0cmF2ZXJzZU9iamVjdCh2bS50cmFuc2xhdGlvbnNbbGFuZ3VhZ2VdLCBmb3JtLnBhdGgpO1xuXHQgICAgICAvLyBzZXQgbmV3IGtleSB2YWx1ZVxuXHQgICAgICBkZWxldGUgY3VycltrZXldO1xuXHQgICAgICBfLm1hcCh2bS5iaW5kaW5nc1tsYW5ndWFnZV0uZm9ybXMsIGZ1bmN0aW9uIChmb3JtKSB7XG5cdCAgICAgICAgLy8gdXBkYXRlIGpzb24gaW4gcHJldmlld1xuXHQgICAgICAgIGZvcm0udmFsdWUgPSBjdXJyO1xuXHQgICAgICB9KTtcblx0ICAgIH0pO1xuXHQgICAgLy8gc3luYyBjaGFuZ2VkIGpzb24gYmFjayB0byB4bWwgbW9kZWxcblx0ICAgIHN5bmNKc29uVG9YTUwoKTtcblx0ICB9XG5cblx0ICBmdW5jdGlvbiB1cGRhdGVUcmFuc2xhdGlvbnMoZm9ybSkge1xuXHQgICAgZm9ybS5lbGVtZW50LmlubmVySFRNTCA9IGZvcm0udmFsdWU7XG5cdCAgICB2YXIgdXBkYXRlZEpTT04gPSBEZWZpYW50Lm5vZGUudG9KU09OKHZtLnhtbERlZmluaXRpb25zW2Zvcm0ubGFuZ10pO1xuXHQgICAgYW5ndWxhci5jb3B5KHVwZGF0ZWRKU09OLCB2bS50cmFuc2xhdGlvbnNbZm9ybS5sYW5nXSk7XG5cdCAgfVxuXG5cdCAgLyoqXG5cdCAgICogZmluZEJ5S2V5XG5cdCAgICogQGRlc2NyaXB0aW9uIE1haW4gcXVlcnkgZnVuY3Rpb24gZm9yIGV2YWx1YXRpbmcgeFBhdGggcXVlcmllcyBhZ2FpbnN0XG5cdCAgICogICAgICAgICAgICAgIEpTT04gdHJhbnNsYXRpb24gb2JqZWN0cy5cblx0ICAgKi9cblx0ICBmdW5jdGlvbiBmaW5kQnlLZXkocXVlcnkpIHtcblx0ICAgIGRlbGV0ZSB2bS5uZXdLZXk7XG5cdCAgICBpZiAoIXF1ZXJ5KSB7XG5cdCAgICAgIHZtLmhhc0Vycm9yID0gZmFsc2U7XG5cdCAgICAgIGNsZWFyQmluZGluZ3MoKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgcXVlcnkgPSBhbmd1bGFyLnVwcGVyY2FzZShxdWVyeSk7XG5cdCAgICAgICAgXy5lYWNoKHZtLmxhbmd1YWdlcywgZnVuY3Rpb24gKGxhbmcpIHtcblx0ICAgICAgICAgIHZtLmJpbmRpbmdzW2xhbmddLmZvcm1zID0gW107XG5cdCAgICAgICAgICB2YXIgbm9kZXMgPSBEZWZpYW50Lm5vZGUuc2VsZWN0Tm9kZXModm0ueG1sRGVmaW5pdGlvbnNbbGFuZ10sIHF1ZXJ5KTtcblx0ICAgICAgICAgIF8uZWFjaChub2RlcywgZnVuY3Rpb24gKG5vZGUsIGlkeCkge1xuXHQgICAgICAgICAgICB2YXIgbm9kZVZhbCA9IERlZmlhbnQubm9kZS50b0pTT04obm9kZSk7XG5cdCAgICAgICAgICAgIHZhciBwYXRoID0gZ2V0UGF0aFRvTm9kZShub2RlKS5zbGljZSgxKTtcblx0ICAgICAgICAgICAgdmFyIGZvcm0gPSB7XG5cdCAgICAgICAgICAgICAgbGFuZzogbGFuZyxcblx0ICAgICAgICAgICAgICBsYWJlbDogcGF0aC5qb2luKFwiLlwiKSxcblx0ICAgICAgICAgICAgICBwYXRoOiBwYXRoLFxuXHQgICAgICAgICAgICAgIGhhc0lucHV0OiAodHlwZW9mIG5vZGUgIT09ICdvYmplY3QnKSxcblx0ICAgICAgICAgICAgICBpc0ZsYXQ6IF8uYWxsKG5vZGVWYWwsIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gXy5pc1N0cmluZyh2YWx1ZSk7XG5cdCAgICAgICAgICAgICAgfSksXG5cdCAgICAgICAgICAgICAgdmFsdWU6IG5vZGVWYWwsXG5cdCAgICAgICAgICAgICAgZWxlbWVudDogbm9kZVxuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICAvLyBvbmx5IGFsbG93IG5vbiBhcnJheS9vYmplY3RzIHRvIGJlIGVkaXRhYmxlXG5cdCAgICAgICAgICAgIGZvcm0uaGFzSW5wdXQgPSAodHlwZW9mIG5vZGVWYWwgIT0gJ29iamVjdCcpO1xuXHQgICAgICAgICAgICB2bS5iaW5kaW5nc1tsYW5nXS5mb3Jtcy5wdXNoKGZvcm0pO1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgICB2bS5oYXNFcnJvciA9IGZhbHNlO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9IGNhdGNoKGVycikgeyAvLyBxdWVyeSBpbnZhbGlkLCBzbyBjbGVhciBiaW5kaW5nc1xuXHQgICAgICAgIHZtLmhhc0Vycm9yID0gdHJ1ZTtcblx0ICAgICAgICBjbGVhckJpbmRpbmdzKCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cblx0ICAvKipcblx0ICAgKiBjYWxsYmFja1VwZGF0ZVxuXHQgICAqIEBkZXNjcmlwdGlvbiBJbnZva2VzIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIHVwZGF0ZSBzcGVjaWZpYyBsYW5ndWFnZSB0cmFuc2xhdGlvbnNcblx0ICAgKi9cblx0ICBmdW5jdGlvbiBjYWxsYmFja1VwZGF0ZShsYW5ndWFnZSwgZXZlbnQpIHtcblx0ICBcdGlmIChldmVudCkge1xuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdH1cblx0ICBcdHJldHVybiB2bS5vblVwZGF0ZShsYW5ndWFnZSk7XG5cdCAgfVxuXG5cdCAgLyoqXG5cdCAgICogY2FsbGJhY2tSZW1vdmVcblx0ICAgKiBAZGVzY3JpcHRpb24gSW52b2tlcyBjYWxsYmFjayBmdW5jdGlvbiB0byByZW1vdmUgc3BlY2lmaWMgbGFuZ3VhZ2UgdHJhbnNsYXRpb25zXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gY2FsbGJhY2tSZW1vdmUobGFuZ3VhZ2UsIGV2ZW50KSB7XG5cdCAgXHRpZiAoZXZlbnQpIHtcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHR9XG5cdCAgXHRyZXR1cm4gdm0ub25SZW1vdmUobGFuZ3VhZ2UpO1xuXHQgIH1cblx0fVxufSkoKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

angular.module("angular-translate-templates", []).run(["$templateCache", function($templateCache) {$templateCache.put("translate-editor.tpl.html","<div><div class=\"form-group\" ng-class=\"{ \'has-error\': locale.hasError }\"><input type=\"text\" class=\"form-control\" ng-model=\"locale.search\" ng-change=\"locale.findByKey(locale.search)\" ng-model-options=\"{ debounce: 500 }\" placeholder=\"Enter xPath Query Here\"> <small ng-if=\"locale.hasError\" class=\"pull-right text-danger\">Invalid Query!</small></div><button class=\"btn btn-default btn-sm\" ng-repeat=\"query in locale.queries track by $index\" ng-click=\"locale.findByKey(query.search); locale.search = query.search;\">{{query.label}}</button><hr><accordion ng-if=\"!locale.hasError\" close-others=\"false\"><accordion-group ng-repeat=\"language in locale.languages track by $index\" is-open=\"locale.tabs[language].$isOpen\"><accordion-heading>{{language | uppercase}} Dictionary <i class=\"glyphicon\" ng-class=\"{\'glyphicon-chevron-down\': locale.tabs[language].$isOpen, \'glyphicon-chevron-right\': !locale.tabs[language].$isOpen}\"></i><div class=\"pull-right\"><button type=\"button\" tabindex=\"-1\" class=\"btn btn-info btn-xs\" ng-click=\"locale.callbackUpdate(language, $event)\">Update</button> <button type=\"button\" tabindex=\"-1\" class=\"btn btn-danger btn-xs\" ng-click=\"locale.callbackRemove(language, $event)\">Remove</button></div></accordion-heading><div class=\"form-group\" ng-repeat=\"form in locale.bindings[language].forms track by $index\"><div ng-if=\"form.hasInput\"><label>{{form.label}}:</label><input type=\"text\" class=\"form-control input-sm\" ng-model=\"form.value\" ng-change=\"locale.updateTranslations(form)\" ng-model-options=\"{ debounce: 500 }\"></div><div ng-if=\"!form.hasInput\"><div class=\"panel panel-default\"><div class=\"panel-body\"><div ng-if=\"form.isFlat\"><div class=\"form-group\" ng-repeat=\"(key, value) in form.value track by $index\"><label>{{form.label}}.{{key}}</label><div class=\"input-group\"><input type=\"text\" class=\"form-control input-sm\" ng-model=\"value\" ng-change=\"locale.updateObject(locale.translations[language], form, key, value)\" ng-model-options=\"{ debounce: 500 }\"> <span class=\"input-group-btn\"><button type=\"button\" tabindex=\"-1\" class=\"btn btn-warning btn-sm\" ng-click=\"locale.deleteObjectByKey(form, key)\">Delete</button></span></div></div></div><pre ng-if=\"!form.isFlat\">{{form.value | json}}</pre></div><div class=\"panel-footer\"><div class=\"row\"><div class=\"col-md-4\"><label>{{form.label}}.{{locale.newKey}}</label><input type=\"text\" class=\"form-control input-sm\" ng-model=\"locale.newKey\" placeholder=\"TRANSLATION_KEY\"></div><div class=\"col-md-8\"><label>Translated Value</label><div class=\"input-group\"><input type=\"text\" class=\"form-control input-sm\" ng-model=\"form.newValue\" placeholder=\"Translated Value\"> <span class=\"input-group-btn\"><button type=\"button\" class=\"btn btn-primary btn-sm\" ng-disabled=\"!form.newValue || !locale.newKey\" ng-click=\"locale.writeObjectByKey(locale.translations[language], form)\">Insert</button></span></div></div></div></div></div></div></div><div ng-if=\"locale.search\" class=\"checkbox\"><label><input type=\"checkbox\" ng-model=\"locale.showAll[language]\"> Show Full Translation</label></div><pre ng-if=\"!locale.search\">{{locale.translations[language]| json}}</pre><div ng-repeat=\"form in locale.bindings[language].forms track by $index\"><pre ng-if=\"!locale.showAll[language]\">{{form.value | json}}</pre><pre ng-if=\"locale.showAll[language]\">{{locale.translations[language]| json}}</pre></div></accordion-group></accordion></div>");}]);