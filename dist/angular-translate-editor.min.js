!function(){"use strict";function n(){return{restrict:"E",scope:{languages:"=",translations:"=",queries:"=",onUpdate:"=",onRemove:"="},replace:!0,templateUrl:"translate-editor.tpl.html",controller:"TranslateEditorController",controllerAs:"locale",bindToController:!0}}function e(n){function e(){_.each(g.languages,function(n){g.tabs[n]={$isOpen:!0},g.bindings[n]={forms:[]},g.xmlDefinitions[n]=JSON.toXML(g.translations[n])})}function t(){_.each(g.languages,function(n){g.xmlDefinitions[n]=JSON.toXML(g.translations[n])})}function a(){_.each(g.languages,function(n){g.bindings[n].forms=[]})}function o(n,e){var t=n;return _.each(e,function(n){t=t[n]}),t}function i(n,e){if(e=e||[],n.parentNode&&(e=i(n.parentNode,e)),n.previousSibling){var t=1,a=n.previousSibling;do 1==a.nodeType&&a.nodeName==n.nodeName&&t++,a=a.previousSibling;while(a);1==t&&(t=null)}else if(n.nextSibling){var o=n.nextSibling;do o=1==o.nodeType&&o.nodeName==n.nodeName?null:o.previousSibling;while(o)}return 1==n.nodeType&&e.push(n.nodeName),e}function l(n,e,t,a){var i=o(n,e.path);i[t]=a,e.value=i,i=null}function r(n,e){var a=o(n,e.path);a[g.newKey]=e.newValue,e.value=a,a=null,_.each(_.without(g.languages,e.lang),function(n){a=o(g.translations[n],e.path),_.has(a,g.newKey)||(a[g.newKey]=e.newValue,_.map(g.bindings[n].forms,function(n){n.value=a}))}),delete g.newKey,delete e.newValue,t()}function s(n,e){_.each(g.languages,function(t){var a=o(g.translations[t],n.path);delete a[e],_.map(g.bindings[t].forms,function(n){n.value=a})}),t()}function u(n){n.element.innerHTML=n.value;var e=Defiant.node.toJSON(g.xmlDefinitions[n.lang]);angular.copy(e,g.translations[n.lang])}function c(n){if(delete g.newKey,n)try{n=angular.uppercase(n),_.each(g.languages,function(e){g.bindings[e].forms=[];var t=Defiant.node.selectNodes(g.xmlDefinitions[e],n);_.each(t,function(n,t){var a=Defiant.node.toJSON(n),o=i(n).slice(1),l={lang:e,label:o.join("."),path:o,hasInput:"object"!=typeof n,isFlat:_.all(a,function(n,e){return _.isString(n)}),value:a,element:n};l.hasInput="object"!=typeof a,g.bindings[e].forms.push(l)}),g.hasError=!1})}catch(e){g.hasError=!0,a()}else g.hasError=!1,a()}function f(n,e){return e&&(e.preventDefault(),e.stopPropagation()),g.onUpdate(n)}function p(n,e){return e&&(e.preventDefault(),e.stopPropagation()),g.onRemove(n)}var g=this;g.languages=g.languages||[],g.translations=g.translations||{},g.queries=g.queries||[],g.onUpdate=g.onUpdate||angular.noop(),g.onRemove=g.onRemove||angular.noop(),g.tabs={},g.bindings={},g.xmlDefinitions={},g.hasError=!1,g.updateObject=l,g.writeObjectByKey=r,g.deleteObjectByKey=s,g.updateTranslations=u,g.findByKey=c,g.callbackUpdate=f,g.callbackRemove=p,e(),n.$watch(function(){return g.languages},function(n,t){n!=t&&e()},!0)}angular.module("khchan.translate-editor",["ui.bootstrap","angular-translate-templates"]).directive("translateEditor",n).controller("TranslateEditorController",e),n.$inject=[],e.$inject=["$scope"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuZ3VsYXItdHJhbnNsYXRlLWVkaXRvci5qcyJdLCJuYW1lcyI6WyJ0cmFuc2xhdGVFZGl0b3IiLCJyZXN0cmljdCIsInNjb3BlIiwibGFuZ3VhZ2VzIiwidHJhbnNsYXRpb25zIiwicXVlcmllcyIsIm9uVXBkYXRlIiwib25SZW1vdmUiLCJyZXBsYWNlIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwiY29udHJvbGxlckFzIiwiYmluZFRvQ29udHJvbGxlciIsIlRyYW5zbGF0ZUVkaXRvckNvbnRyb2xsZXIiLCIkc2NvcGUiLCJpbml0IiwiXyIsImVhY2giLCJ2bSIsImxhbmciLCJ0YWJzIiwiJGlzT3BlbiIsImJpbmRpbmdzIiwiZm9ybXMiLCJ4bWxEZWZpbml0aW9ucyIsIkpTT04iLCJ0b1hNTCIsInN5bmNKc29uVG9YTUwiLCJjbGVhckJpbmRpbmdzIiwidHJhdmVyc2VPYmplY3QiLCJvYmplY3QiLCJwYXRoIiwiY3VyciIsImtleSIsImdldFBhdGhUb05vZGUiLCJub2RlIiwicGFyZW50Tm9kZSIsInByZXZpb3VzU2libGluZyIsImNvdW50Iiwic2libGluZyIsIm5vZGVUeXBlIiwibm9kZU5hbWUiLCJuZXh0U2libGluZyIsInB1c2giLCJ1cGRhdGVPYmplY3QiLCJmb3JtIiwidmFsdWUiLCJ3cml0ZU9iamVjdEJ5S2V5IiwibmV3S2V5IiwibmV3VmFsdWUiLCJ3aXRob3V0IiwibGFuZ3VhZ2UiLCJoYXMiLCJtYXAiLCJkZWxldGVPYmplY3RCeUtleSIsInVwZGF0ZVRyYW5zbGF0aW9ucyIsImVsZW1lbnQiLCJpbm5lckhUTUwiLCJ1cGRhdGVkSlNPTiIsIkRlZmlhbnQiLCJ0b0pTT04iLCJhbmd1bGFyIiwiY29weSIsImZpbmRCeUtleSIsInF1ZXJ5IiwidXBwZXJjYXNlIiwibm9kZXMiLCJzZWxlY3ROb2RlcyIsImlkeCIsIm5vZGVWYWwiLCJzbGljZSIsImxhYmVsIiwiam9pbiIsImhhc0lucHV0IiwiaXNGbGF0IiwiYWxsIiwiaXNTdHJpbmciLCJoYXNFcnJvciIsImVyciIsImNhbGxiYWNrVXBkYXRlIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsImNhbGxiYWNrUmVtb3ZlIiwidGhpcyIsIm5vb3AiLCIkd2F0Y2giLCJvcmlnIiwibW9kdWxlIiwiZGlyZWN0aXZlIiwiJGluamVjdCJdLCJtYXBwaW5ncyI6IkNBQUEsV0FDQyxZQVNBLFNBQVNBLEtBQ1AsT0FDRUMsU0FBVSxJQUNWQyxPQUNFQyxVQUFXLElBQ1hDLGFBQWMsSUFDZEMsUUFBUyxJQUNUQyxTQUFVLElBQ1ZDLFNBQVUsS0FFWkMsU0FBUyxFQUNUQyxZQUFhLDRCQUNiQyxXQUFZLDRCQUNaQyxhQUFjLFNBQ2RDLGtCQUFrQixHQUl0QixRQUFTQyxHQUEwQkMsR0FpQ2pDLFFBQVNDLEtBQ1BDLEVBQUVDLEtBQUtDLEVBQUdmLFVBQVcsU0FBVWdCLEdBQzlCRCxFQUFHRSxLQUFLRCxJQUNQRSxTQUFTLEdBRVRILEVBQUdJLFNBQVNILElBQ1ZJLFVBRUZMLEVBQUdNLGVBQWVMLEdBQVFNLEtBQUtDLE1BQU1SLEVBQUdkLGFBQWFlLE1BSXpELFFBQVNRLEtBQ1BYLEVBQUVDLEtBQUtDLEVBQUdmLFVBQVcsU0FBVWdCLEdBQzdCRCxFQUFHTSxlQUFlTCxHQUFRTSxLQUFLQyxNQUFNUixFQUFHZCxhQUFhZSxNQUl6RCxRQUFTUyxLQUNQWixFQUFFQyxLQUFLQyxFQUFHZixVQUFXLFNBQVVnQixHQUM3QkQsRUFBR0ksU0FBU0gsR0FBTUksV0FJdEIsUUFBU00sR0FBZUMsRUFBUUMsR0FDOUIsR0FBSUMsR0FBT0YsQ0FJWCxPQUhBZCxHQUFFQyxLQUFLYyxFQUFNLFNBQVVFLEdBQ3JCRCxFQUFPQSxFQUFLQyxLQUVQRCxFQUdULFFBQVNFLEdBQWNDLEVBQU1KLEdBTTNCLEdBTEFBLEVBQU9BLE1BQ0hJLEVBQUtDLGFBQ1BMLEVBQU9HLEVBQWNDLEVBQUtDLFdBQVlMLElBR3BDSSxFQUFLRSxnQkFBaUIsQ0FDeEIsR0FBSUMsR0FBUSxFQUNSQyxFQUFV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R0FBRzJELFVBQVcsRUFDZGpELElBc0NKLFFBQVNtRCxHQUFlNUIsRUFBVTZCLEdBS2pDLE1BSklBLEtBQ0pBLEVBQU1DLGlCQUNORCxFQUFNRSxtQkFFQ2hFLEVBQUdaLFNBQVM2QyxHQU9wQixRQUFTZ0MsR0FBZWhDLEVBQVU2QixHQUtqQyxNQUpJQSxLQUNKQSxFQUFNQyxpQkFDTkQsRUFBTUUsbUJBRUNoRSxFQUFHWCxTQUFTNEMsR0FoUHBCLEdBQUlqQyxHQUFLa0UsSUFHVGxFLEdBQUdmLFVBQVllLEVBQUdmLGNBQ2xCZSxFQUFHZCxhQUFlYyxFQUFHZCxpQkFDckJjLEVBQUdiLFFBQVVhLEVBQUdiLFlBQ2hCYSxFQUFHWixTQUFXWSxFQUFHWixVQUFZdUQsUUFBUXdCLE9BQ3JDbkUsRUFBR1gsU0FBV1csRUFBR1gsVUFBWXNELFFBQVF3QixPQUdyQ25FLEVBQUdFLFFBQ0hGLEVBQUdJLFlBQ0hKLEVBQUdNLGtCQUNITixFQUFHMkQsVUFBVyxFQUdkM0QsRUFBRzBCLGFBQWVBLEVBQ2xCMUIsRUFBRzZCLGlCQUFtQkEsRUFDdEI3QixFQUFHb0Msa0JBQW9CQSxFQUN2QnBDLEVBQUdxQyxtQkFBcUJBLEVBQ3hCckMsRUFBRzZDLFVBQVlBLEVBQ2Y3QyxFQUFHNkQsZUFBaUJBLEVBQ3BCN0QsRUFBR2lFLGVBQWlCQSxFQUVwQnBFLElBMkVBRCxFQUFPd0UsT0FBTyxXQUNiLE1BQU9wRSxHQUFHZixXQUNSLFNBQVU2QixFQUFNdUQsR0FDZHZELEdBQVF1RCxHQUNYeEUsTUFFQyxHQXBJTDhDLFFBQ0cyQixPQUFPLDJCQUE0QixlQUFnQixnQ0FDbkRDLFVBQVUsa0JBQW1CekYsR0FDN0JVLFdBQVcsNEJBQTZCRyxHQUUzQ2IsRUFBZ0IwRixXQUNoQjdFLEVBQTBCNkUsU0FBVyIsImZpbGUiOiJhbmd1bGFyLXRyYW5zbGF0ZS1lZGl0b3IuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7XG5cdCd1c2Ugc3RyaWN0Jztcblx0YW5ndWxhclxuXHQgIC5tb2R1bGUoJ2toY2hhbi50cmFuc2xhdGUtZWRpdG9yJywgWyd1aS5ib290c3RyYXAnLCAnYW5ndWxhci10cmFuc2xhdGUtdGVtcGxhdGVzJ10pXG5cdCAgLmRpcmVjdGl2ZSgndHJhbnNsYXRlRWRpdG9yJywgdHJhbnNsYXRlRWRpdG9yKVxuXHQgIC5jb250cm9sbGVyKCdUcmFuc2xhdGVFZGl0b3JDb250cm9sbGVyJywgVHJhbnNsYXRlRWRpdG9yQ29udHJvbGxlcik7XG5cblx0dHJhbnNsYXRlRWRpdG9yLiRpbmplY3QgPSBbXTtcblx0VHJhbnNsYXRlRWRpdG9yQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnXTtcblxuXHRmdW5jdGlvbiB0cmFuc2xhdGVFZGl0b3IoKSB7XG5cdCAgcmV0dXJuIHtcblx0ICAgIHJlc3RyaWN0OiAnRScsXG5cdCAgICBzY29wZToge1xuXHQgICAgICBsYW5ndWFnZXM6ICc9JywgICAgICAvLyBhcnJheSBvZiBhbGxvd2FibGUgbG9jYWxlc1xuXHQgICAgICB0cmFuc2xhdGlvbnM6ICc9JywgICAvLyBkaWN0aW9uYXJ5IG9mIGxhbmd1YWdlLXRyYW5zbGF0aW9uc1xuXHQgICAgICBxdWVyaWVzOiAnPScsICAgICAgICAvLyBwcmVkZWZpbmVkIHF1ZXJpZXMgdG8gYnVpbGQgYnV0dG9ucyBvblxuXHQgICAgICBvblVwZGF0ZTogJz0nLFx0XHRcdCAvLyBjYWxsYmFjayBvbiB1cGRhdGUgb25lXG5cdCAgICAgIG9uUmVtb3ZlOiAnPSdcdFx0XHRcdCAvLyBjYWxsYmFjayBvbiByZW1vdmUgb25lXG5cdCAgICB9LFxuXHQgICAgcmVwbGFjZTogdHJ1ZSxcblx0ICAgIHRlbXBsYXRlVXJsOiAndHJhbnNsYXRlLWVkaXRvci50cGwuaHRtbCcsXG5cdCAgICBjb250cm9sbGVyOiAnVHJhbnNsYXRlRWRpdG9yQ29udHJvbGxlcicsXG5cdCAgICBjb250cm9sbGVyQXM6ICdsb2NhbGUnLFxuXHQgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHQgIH07XG5cdH1cblxuXHRmdW5jdGlvbiBUcmFuc2xhdGVFZGl0b3JDb250cm9sbGVyKCRzY29wZSkge1xuXHQgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAvLyBmcm9tIGRpcmVjdGl2ZVxuXHQgIHZtLmxhbmd1YWdlcyA9IHZtLmxhbmd1YWdlcyB8fCBbXTtcblx0ICB2bS50cmFuc2xhdGlvbnMgPSB2bS50cmFuc2xhdGlvbnMgfHwge307XG5cdCAgdm0ucXVlcmllcyA9IHZtLnF1ZXJpZXMgfHwgW107XG5cdCAgdm0ub25VcGRhdGUgPSB2bS5vblVwZGF0ZSB8fCBhbmd1bGFyLm5vb3AoKTtcblx0ICB2bS5vblJlbW92ZSA9IHZtLm9uUmVtb3ZlIHx8IGFuZ3VsYXIubm9vcCgpO1xuXG5cdCAgLy8gYmluZGFibGUgdmFyaWFibGVzXG5cdCAgdm0udGFicyA9IHt9O1xuXHQgIHZtLmJpbmRpbmdzID0ge307ICAgICAgICAvLyBzdG9yZXMgcmVzdWx0cyBvZiB4UGF0aCBxdWVyeVxuXHQgIHZtLnhtbERlZmluaXRpb25zID0ge307ICAvLyB4bWwgZXF1aXZhbGVudHMgb2YgdHJhbnNsYXRpb24ganNvbnNcblx0ICB2bS5oYXNFcnJvciA9IGZhbHNlOyAgICAgLy8gYm9vbGVhbiBkZXRlcm1pbmluZyB3aGV0aGVyIHRoZXJlIHdhcyBhIHF1ZXJ5IGVycm9yXG5cblx0ICAvLyBiaW5kYWJsZSBtZXRob2RzXG5cdCAgdm0udXBkYXRlT2JqZWN0ID0gdXBkYXRlT2JqZWN0O1xuXHQgIHZtLndyaXRlT2JqZWN0QnlLZXkgPSB3cml0ZU9iamVjdEJ5S2V5O1xuXHQgIHZtLmRlbGV0ZU9iamVjdEJ5S2V5ID0gZGVsZXRlT2JqZWN0QnlLZXk7XG5cdCAgdm0udXBkYXRlVHJhbnNsYXRpb25zID0gdXBkYXRlVHJhbnNsYXRpb25zO1xuXHQgIHZtLmZpbmRCeUtleSA9IGZpbmRCeUtleTtcblx0ICB2bS5jYWxsYmFja1VwZGF0ZSA9IGNhbGxiYWNrVXBkYXRlO1xuXHQgIHZtLmNhbGxiYWNrUmVtb3ZlID0gY2FsbGJhY2tSZW1vdmU7XG5cblx0ICBpbml0KCk7XG5cblx0ICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cblx0ICAvKipcblx0ICAgKiBQcml2YXRlIE1ldGhvZHNcblx0ICAgKi9cblxuXHQgIGZ1bmN0aW9uIGluaXQoKSB7XG5cdCAgICBfLmVhY2godm0ubGFuZ3VhZ2VzLCBmdW5jdGlvbiAobGFuZykge1xuXHQgICAgXHR2bS50YWJzW2xhbmddID0ge1xuXHQgICAgXHRcdCRpc09wZW46IHRydWVcblx0ICAgIFx0fTtcblx0ICAgICAgdm0uYmluZGluZ3NbbGFuZ10gPSB7XG5cdCAgICAgICAgZm9ybXM6IFtdXG5cdCAgICAgIH07XG5cdCAgICAgIHZtLnhtbERlZmluaXRpb25zW2xhbmddID0gSlNPTi50b1hNTCh2bS50cmFuc2xhdGlvbnNbbGFuZ10pO1xuXHQgICAgfSk7XG5cdCAgfVxuXG5cdCAgZnVuY3Rpb24gc3luY0pzb25Ub1hNTCgpIHtcblx0ICAgIF8uZWFjaCh2bS5sYW5ndWFnZXMsIGZ1bmN0aW9uIChsYW5nKSB7XG5cdCAgICAgIHZtLnhtbERlZmluaXRpb25zW2xhbmddID0gSlNPTi50b1hNTCh2bS50cmFuc2xhdGlvbnNbbGFuZ10pO1xuXHQgICAgfSk7XG5cdCAgfVxuXG5cdCAgZnVuY3Rpb24gY2xlYXJCaW5kaW5ncygpIHtcblx0ICAgIF8uZWFjaCh2bS5sYW5ndWFnZXMsIGZ1bmN0aW9uIChsYW5nKSB7XG5cdCAgICAgIHZtLmJpbmRpbmdzW2xhbmddLmZvcm1zID0gW107XG5cdCAgICB9KTtcblx0ICB9XG5cblx0ICBmdW5jdGlvbiB0cmF2ZXJzZU9iamVjdChvYmplY3QsIHBhdGgpIHtcblx0ICAgIHZhciBjdXJyID0gb2JqZWN0O1xuXHQgICAgXy5lYWNoKHBhdGgsIGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgICAgY3VyciA9IGN1cnJba2V5XTtcblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIGN1cnI7XG5cdCAgfVxuXG5cdCAgZnVuY3Rpb24gZ2V0UGF0aFRvTm9kZShub2RlLCBwYXRoKSB7XG5cdCAgICBwYXRoID0gcGF0aCB8fCBbXTtcblx0ICAgIGlmIChub2RlLnBhcmVudE5vZGUpIHtcblx0ICAgICAgcGF0aCA9IGdldFBhdGhUb05vZGUobm9kZS5wYXJlbnROb2RlLCBwYXRoKTtcblx0ICAgIH1cblxuXHQgICAgaWYgKG5vZGUucHJldmlvdXNTaWJsaW5nKSB7XG5cdCAgICAgIHZhciBjb3VudCA9IDE7XG5cdCAgICAgIHZhciBzaWJsaW5nID0gbm9kZS5wcmV2aW91c1NpYmxpbmc7XG5cdCAgICAgIGRvIHtcblx0ICAgICAgICBpZiAoc2libGluZy5ub2RlVHlwZSA9PSAxICYmIHNpYmxpbmcubm9kZU5hbWUgPT0gbm9kZS5ub2RlTmFtZSkgeyBjb3VudCsrOyB9XG5cdCAgICAgICAgc2libGluZyA9IHNpYmxpbmcucHJldmlvdXNTaWJsaW5nO1xuXHQgICAgICB9IHdoaWxlKHNpYmxpbmcpO1xuXHQgICAgICBpZiAoY291bnQgPT0gMSkgeyBjb3VudCA9IG51bGw7IH1cblx0ICAgIH0gZWxzZSBpZihub2RlLm5leHRTaWJsaW5nKSB7XG5cdCAgICAgIHZhciBuZXh0U2libGluZyA9IG5vZGUubmV4dFNpYmxpbmc7XG5cdCAgICAgIGRvIHtcblx0ICAgICAgICBpZiAobmV4dFNpYmxpbmcubm9kZVR5cGUgPT0gMSAmJiBuZXh0U2libGluZy5ub2RlTmFtZSA9PSBub2RlLm5vZGVOYW1lKSB7XG5cdCAgICAgICAgICBuZXh0U2libGluZyA9IG51bGw7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIG5leHRTaWJsaW5nID0gbmV4dFNpYmxpbmcucHJldmlvdXNTaWJsaW5nO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSB3aGlsZShuZXh0U2libGluZyk7XG5cdCAgICB9XG5cblx0ICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEpIHtcblx0ICAgICAgcGF0aC5wdXNoKG5vZGUubm9kZU5hbWUpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHBhdGg7XG5cdCAgfVxuXG5cdCAgLyoqXG5cdCAgICogUHVibGljIE1ldGhvZHNcblx0ICAgKi9cblxuXHQgICRzY29wZS4kd2F0Y2goZnVuY3Rpb24oKSB7XG5cdCAgXHRyZXR1cm4gdm0ubGFuZ3VhZ2VzO1xuXHQgIH0sIGZ1bmN0aW9uIChjdXJyLCBvcmlnKSB7XG5cdCAgXHRpZiAoY3VyciAhPSBvcmlnKSB7XG5cdCAgXHRcdGluaXQoKTsgLy8gcmUtaW5pdGlhbGl6ZSBiaW5kaW5ncyB3aGVuIGxhbmd1YWdlcyBhcmUgYWRkZWQvcmVtb3ZlZFxuXHQgIFx0fVxuXHQgIH0sIHRydWUpO1xuXG5cdCAgLyoqXG5cdCAgICogdXBkYXRlT2JqZWN0XG5cdCAgICogQGRlc2NyaXB0aW9uIEdpdmVuIGEgZmxhdCBqc29uIG9iamVjdCwgdXBkYXRlcyBhbmQgc3luY3MgYSBwYXJ0aWN1bGFyIGtleS92YWx1ZSBwYWlyXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gdXBkYXRlT2JqZWN0KG9iamVjdCwgZm9ybSwga2V5LCB2YWx1ZSkge1xuXHQgICAgdmFyIGN1cnIgPSB0cmF2ZXJzZU9iamVjdChvYmplY3QsIGZvcm0ucGF0aCk7XG5cdCAgICBjdXJyW2tleV0gPSB2YWx1ZTtcblx0ICAgIGZvcm0udmFsdWUgPSBjdXJyO1xuXHQgICAgY3VyciA9IG51bGw7XG5cdCAgfVxuXG5cdCAgLyoqXG5cdCAgICogd3JpdGVPYmplY3RCeUtleVxuXHQgICAqIEBkZXNjcmlwdGlvbiBXcml0ZXMgYSBuZXcgdmFsdWUgdG8gYW4gb2JqZWN0IGJ5IHRyYXZlcnNpbmcgZG93biB0aHJvdWdoIGEgcGF0aFxuXHQgICAqICAgICAgICAgICAgICB0aGVuIHdyaXRlcyBhIHZhbHVlIGdpdmVuIGEga2V5XG5cdCAgICovXG5cdCAgZnVuY3Rpb24gd3JpdGVPYmplY3RCeUtleShvYmplY3QsIGZvcm0pIHtcblx0ICAgIC8vIHVwZGF0ZSBmb3IgZm9ybSBpbiBjdXJyZW50IGxhbmd1YWdlXG5cdCAgICB2YXIgY3VyciA9IHRyYXZlcnNlT2JqZWN0KG9iamVjdCwgZm9ybS5wYXRoKTtcblx0ICAgIC8vIHNldCBuZXcga2V5IHZhbHVlXG5cdCAgICBjdXJyW3ZtLm5ld0tleV0gPSBmb3JtLm5ld1ZhbHVlO1xuXHQgICAgLy8gdXBkYXRlIGpzb24gaW4gcHJldmlld1xuXHQgICAgZm9ybS52YWx1ZSA9IGN1cnI7XG5cdCAgICBjdXJyID0gbnVsbDtcblxuXHQgICAgLy8gY2hlY2sgb3RoZXIgbGFuZ3VhZ2VzIGZvciBrZXkgYW5kIGZpbGwgd2l0aCB2YWx1ZSBpZiBub3QgZXhpc3RzXG5cdCAgICBfLmVhY2goXy53aXRob3V0KHZtLmxhbmd1YWdlcywgZm9ybS5sYW5nKSwgZnVuY3Rpb24gKGxhbmd1YWdlKSB7XG5cdCAgICAgIGN1cnIgPSB0cmF2ZXJzZU9iamVjdCh2bS50cmFuc2xhdGlvbnNbbGFuZ3VhZ2VdLCBmb3JtLnBhdGgpO1xuXHQgICAgICBpZiAoIV8uaGFzKGN1cnIsIHZtLm5ld0tleSkpIHtcblx0ICAgICAgICBjdXJyW3ZtLm5ld0tleV0gPSBmb3JtLm5ld1ZhbHVlO1xuXHQgICAgICAgIF8ubWFwKHZtLmJpbmRpbmdzW2xhbmd1YWdlXS5mb3JtcywgZnVuY3Rpb24gKGZvcm0pIHtcblx0ICAgICAgICAgIC8vIHVwZGF0ZSBqc29uIGluIHByZXZpZXdcblx0ICAgICAgICAgIGZvcm0udmFsdWUgPSBjdXJyO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblxuXHQgICAgLy8gY2xlYXIgaW5wdXRzXG5cdCAgICBkZWxldGUgdm0ubmV3S2V5O1xuXHQgICAgZGVsZXRlIGZvcm0ubmV3VmFsdWU7XG5cblx0ICAgIC8vIHN5bmMgY2hhbmdlZCBqc29uIGJhY2sgdG8geG1sIG1vZGVsXG5cdCAgICBzeW5jSnNvblRvWE1MKCk7XG5cdCAgfVxuXG5cdCAgLyoqXG5cdCAgICogZGVsZXRlT2JqZWN0QnlLZXlcblx0ICAgKiBAZGVzY3JpcHRpb24gRGVsZXRlcyBhIHZhbHVlIGdpdmVuIGEga2V5IGluIGEgZmxhdCBqc29uIG9iamVjdFxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIGRlbGV0ZU9iamVjdEJ5S2V5KGZvcm0sIGtleSkge1xuXHQgICAgXy5lYWNoKHZtLmxhbmd1YWdlcywgZnVuY3Rpb24gKGxhbmd1YWdlKSB7XG5cdCAgICAgIHZhciBjdXJyID0gdHJhdmVyc2VPYmplY3Qodm0udHJhbnNsYXRpb25zW2xhbmd1YWdlXSwgZm9ybS5wYXRoKTtcblx0ICAgICAgLy8gc2V0IG5ldyBrZXkgdmFsdWVcblx0ICAgICAgZGVsZXRlIGN1cnJba2V5XTtcblx0ICAgICAgXy5tYXAodm0uYmluZGluZ3NbbGFuZ3VhZ2VdLmZvcm1zLCBmdW5jdGlvbiAoZm9ybSkge1xuXHQgICAgICAgIC8vIHVwZGF0ZSBqc29uIGluIHByZXZpZXdcblx0ICAgICAgICBmb3JtLnZhbHVlID0gY3Vycjtcblx0ICAgICAgfSk7XG5cdCAgICB9KTtcblx0ICAgIC8vIHN5bmMgY2hhbmdlZCBqc29uIGJhY2sgdG8geG1sIG1vZGVsXG5cdCAgICBzeW5jSnNvblRvWE1MKCk7XG5cdCAgfVxuXG5cdCAgZnVuY3Rpb24gdXBkYXRlVHJhbnNsYXRpb25zKGZvcm0pIHtcblx0ICAgIGZvcm0uZWxlbWVudC5pbm5lckhUTUwgPSBmb3JtLnZhbHVlO1xuXHQgICAgdmFyIHVwZGF0ZWRKU09OID0gRGVmaWFudC5ub2RlLnRvSlNPTih2bS54bWxEZWZpbml0aW9uc1tmb3JtLmxhbmddKTtcblx0ICAgIGFuZ3VsYXIuY29weSh1cGRhdGVkSlNPTiwgdm0udHJhbnNsYXRpb25zW2Zvcm0ubGFuZ10pO1xuXHQgIH1cblxuXHQgIC8qKlxuXHQgICAqIGZpbmRCeUtleVxuXHQgICAqIEBkZXNjcmlwdGlvbiBNYWluIHF1ZXJ5IGZ1bmN0aW9uIGZvciBldmFsdWF0aW5nIHhQYXRoIHF1ZXJpZXMgYWdhaW5zdFxuXHQgICAqICAgICAgICAgICAgICBKU09OIHRyYW5zbGF0aW9uIG9iamVjdHMuXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gZmluZEJ5S2V5KHF1ZXJ5KSB7XG5cdCAgICBkZWxldGUgdm0ubmV3S2V5O1xuXHQgICAgaWYgKCFxdWVyeSkge1xuXHQgICAgICB2bS5oYXNFcnJvciA9IGZhbHNlO1xuXHQgICAgICBjbGVhckJpbmRpbmdzKCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIHF1ZXJ5ID0gYW5ndWxhci51cHBlcmNhc2UocXVlcnkpO1xuXHQgICAgICAgIF8uZWFjaCh2bS5sYW5ndWFnZXMsIGZ1bmN0aW9uIChsYW5nKSB7XG5cdCAgICAgICAgICB2bS5iaW5kaW5nc1tsYW5nXS5mb3JtcyA9IFtdO1xuXHQgICAgICAgICAgdmFyIG5vZGVzID0gRGVmaWFudC5ub2RlLnNlbGVjdE5vZGVzKHZtLnhtbERlZmluaXRpb25zW2xhbmddLCBxdWVyeSk7XG5cdCAgICAgICAgICBfLmVhY2gobm9kZXMsIGZ1bmN0aW9uIChub2RlLCBpZHgpIHtcblx0ICAgICAgICAgICAgdmFyIG5vZGVWYWwgPSBEZWZpYW50Lm5vZGUudG9KU09OKG5vZGUpO1xuXHQgICAgICAgICAgICB2YXIgcGF0aCA9IGdldFBhdGhUb05vZGUobm9kZSkuc2xpY2UoMSk7XG5cdCAgICAgICAgICAgIHZhciBmb3JtID0ge1xuXHQgICAgICAgICAgICAgIGxhbmc6IGxhbmcsXG5cdCAgICAgICAgICAgICAgbGFiZWw6IHBhdGguam9pbihcIi5cIiksXG5cdCAgICAgICAgICAgICAgcGF0aDogcGF0aCxcblx0ICAgICAgICAgICAgICBoYXNJbnB1dDogKHR5cGVvZiBub2RlICE9PSAnb2JqZWN0JyksXG5cdCAgICAgICAgICAgICAgaXNGbGF0OiBfLmFsbChub2RlVmFsLCBmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIF8uaXNTdHJpbmcodmFsdWUpO1xuXHQgICAgICAgICAgICAgIH0pLFxuXHQgICAgICAgICAgICAgIHZhbHVlOiBub2RlVmFsLFxuXHQgICAgICAgICAgICAgIGVsZW1lbnQ6IG5vZGVcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgLy8gb25seSBhbGxvdyBub24gYXJyYXkvb2JqZWN0cyB0byBiZSBlZGl0YWJsZVxuXHQgICAgICAgICAgICBmb3JtLmhhc0lucHV0ID0gKHR5cGVvZiBub2RlVmFsICE9ICdvYmplY3QnKTtcblx0ICAgICAgICAgICAgdm0uYmluZGluZ3NbbGFuZ10uZm9ybXMucHVzaChmb3JtKTtcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgdm0uaGFzRXJyb3IgPSBmYWxzZTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfSBjYXRjaChlcnIpIHsgLy8gcXVlcnkgaW52YWxpZCwgc28gY2xlYXIgYmluZGluZ3Ncblx0ICAgICAgICB2bS5oYXNFcnJvciA9IHRydWU7XG5cdCAgICAgICAgY2xlYXJCaW5kaW5ncygpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXG5cdCAgLyoqXG5cdCAgICogY2FsbGJhY2tVcGRhdGVcblx0ICAgKiBAZGVzY3JpcHRpb24gSW52b2tlcyBjYWxsYmFjayBmdW5jdGlvbiB0byB1cGRhdGUgc3BlY2lmaWMgbGFuZ3VhZ2UgdHJhbnNsYXRpb25zXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gY2FsbGJhY2tVcGRhdGUobGFuZ3VhZ2UsIGV2ZW50KSB7XG5cdCAgXHRpZiAoZXZlbnQpIHtcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHR9XG5cdCAgXHRyZXR1cm4gdm0ub25VcGRhdGUobGFuZ3VhZ2UpO1xuXHQgIH1cblxuXHQgIC8qKlxuXHQgICAqIGNhbGxiYWNrUmVtb3ZlXG5cdCAgICogQGRlc2NyaXB0aW9uIEludm9rZXMgY2FsbGJhY2sgZnVuY3Rpb24gdG8gcmVtb3ZlIHNwZWNpZmljIGxhbmd1YWdlIHRyYW5zbGF0aW9uc1xuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIGNhbGxiYWNrUmVtb3ZlKGxhbmd1YWdlLCBldmVudCkge1xuXHQgIFx0aWYgKGV2ZW50KSB7XG5cdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0fVxuXHQgIFx0cmV0dXJuIHZtLm9uUmVtb3ZlKGxhbmd1YWdlKTtcblx0ICB9XG5cdH1cbn0pKCk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

angular.module("angular-translate-templates", []).run(["$templateCache", function($templateCache) {$templateCache.put("translate-editor.tpl.html","<div><div class=\"form-group\" ng-class=\"{ \'has-error\': locale.hasError }\"><input type=\"text\" class=\"form-control\" ng-model=\"locale.search\" ng-change=\"locale.findByKey(locale.search)\" ng-model-options=\"{ debounce: 500 }\" placeholder=\"Enter xPath Query Here\"> <small ng-if=\"locale.hasError\" class=\"pull-right text-danger\">Invalid Query!</small></div><button class=\"btn btn-default btn-sm\" ng-repeat=\"query in locale.queries track by $index\" ng-click=\"locale.findByKey(query.search); locale.search = query.search;\">{{query.label}}</button><hr><accordion ng-if=\"!locale.hasError\" close-others=\"false\"><accordion-group ng-repeat=\"language in locale.languages track by $index\" is-open=\"locale.tabs[language].$isOpen\"><accordion-heading>{{language | uppercase}} Dictionary <i class=\"glyphicon\" ng-class=\"{\'glyphicon-chevron-down\': locale.tabs[language].$isOpen, \'glyphicon-chevron-right\': !locale.tabs[language].$isOpen}\"></i><div class=\"pull-right\"><button type=\"button\" tabindex=\"-1\" class=\"btn btn-info btn-xs\" ng-click=\"locale.callbackUpdate(language, $event)\">Update</button> <button type=\"button\" tabindex=\"-1\" class=\"btn btn-danger btn-xs\" ng-click=\"locale.callbackRemove(language, $event)\">Remove</button></div></accordion-heading><div class=\"form-group\" ng-repeat=\"form in locale.bindings[language].forms track by $index\"><div ng-if=\"form.hasInput\"><label>{{form.label}}:</label><input type=\"text\" class=\"form-control input-sm\" ng-model=\"form.value\" ng-change=\"locale.updateTranslations(form)\" ng-model-options=\"{ debounce: 500 }\"></div><div ng-if=\"!form.hasInput\"><div class=\"panel panel-default\"><div class=\"panel-body\"><div ng-if=\"form.isFlat\"><div class=\"form-group\" ng-repeat=\"(key, value) in form.value track by $index\"><label>{{form.label}}.{{key}}</label><div class=\"input-group\"><input type=\"text\" class=\"form-control input-sm\" ng-model=\"value\" ng-change=\"locale.updateObject(locale.translations[language], form, key, value)\" ng-model-options=\"{ debounce: 500 }\"> <span class=\"input-group-btn\"><button type=\"button\" tabindex=\"-1\" class=\"btn btn-warning btn-sm\" ng-click=\"locale.deleteObjectByKey(form, key)\">Delete</button></span></div></div></div><pre ng-if=\"!form.isFlat\">{{form.value | json}}</pre></div><div class=\"panel-footer\"><div class=\"row\"><div class=\"col-md-4\"><label>{{form.label}}.{{locale.newKey}}</label><input type=\"text\" class=\"form-control input-sm\" ng-model=\"locale.newKey\" placeholder=\"TRANSLATION_KEY\"></div><div class=\"col-md-8\"><label>Translated Value</label><div class=\"input-group\"><input type=\"text\" class=\"form-control input-sm\" ng-model=\"form.newValue\" placeholder=\"Translated Value\"> <span class=\"input-group-btn\"><button type=\"button\" class=\"btn btn-primary btn-sm\" ng-disabled=\"!form.newValue || !locale.newKey\" ng-click=\"locale.writeObjectByKey(locale.translations[language], form)\">Insert</button></span></div></div></div></div></div></div></div><div ng-if=\"locale.search\" class=\"checkbox\"><label><input type=\"checkbox\" ng-model=\"locale.showAll[language]\"> Show Full Translation</label></div><pre ng-if=\"!locale.search\">{{locale.translations[language]| json}}</pre><div ng-repeat=\"form in locale.bindings[language].forms track by $index\"><pre ng-if=\"!locale.showAll[language]\">{{form.value | json}}</pre><pre ng-if=\"locale.showAll[language]\">{{locale.translations[language]| json}}</pre></div></accordion-group></accordion></div>");}]);